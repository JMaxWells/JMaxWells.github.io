<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="这是一个利用Hexo搭建的博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="一个90后iOS软件攻城狮，热爱coding，并且喜欢数码、外设、键盘等等。">
<meta property="og:type" content="website">
<meta property="og:title" content="这是一个利用Hexo搭建的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="这是一个利用Hexo搭建的博客">
<meta property="og:description" content="一个90后iOS软件攻城狮，热爱coding，并且喜欢数码、外设、键盘等等。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="这是一个利用Hexo搭建的博客">
<meta name="twitter:description" content="一个90后iOS软件攻城狮，热爱coding，并且喜欢数码、外设、键盘等等。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6260345940964541000,
      author: 'MaxWellPro'
    }
  };
</script>

  <title> 这是一个利用Hexo搭建的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-cn">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">这是一个利用Hexo搭建的博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">分享一些技术文章和自己所整理的知识。</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/14/iOS 四种保存数据的方式/" itemprop="url">
                  iOS 四种保存数据的方式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-14T17:28:47+08:00" content="2016-03-14">
              2016-03-14
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/14/iOS 四种保存数据的方式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/14/iOS 四种保存数据的方式/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iOS-四种保存数据的方式"><a href="#iOS-四种保存数据的方式" class="headerlink" title="iOS 四种保存数据的方式"></a>iOS 四种保存数据的方式</h1><p>在iOS开发过程中，不管是做什么应用，都会碰到数据保存的问题。将数据保存到本地，能够让程序的运行更加流畅，不会出现让人厌恶的菊花形状，使得用户体验更好。下面介绍一下数据保存的方式：</p>
<h2 id="1-NSKeyedArchiver：采用归档的形式来保存数据，该数据对象需要遵守NSCoding协议，并且该对象对应的类必须提供encodeWithCoder-和initWithCoder-方法。前一个方法告诉系统怎么对对象进行编码，而后一个方法则是告诉系统怎么对对象进行解码。例如对Possession对象归档保存。"><a href="#1-NSKeyedArchiver：采用归档的形式来保存数据，该数据对象需要遵守NSCoding协议，并且该对象对应的类必须提供encodeWithCoder-和initWithCoder-方法。前一个方法告诉系统怎么对对象进行编码，而后一个方法则是告诉系统怎么对对象进行解码。例如对Possession对象归档保存。" class="headerlink" title="1.NSKeyedArchiver：采用归档的形式来保存数据，该数据对象需要遵守NSCoding协议，并且该对象对应的类必须提供encodeWithCoder:和initWithCoder:方法。前一个方法告诉系统怎么对对象进行编码，而后一个方法则是告诉系统怎么对对象进行解码。例如对Possession对象归档保存。"></a>1.NSKeyedArchiver：采用归档的形式来保存数据，该数据对象需要遵守NSCoding协议，并且该对象对应的类必须提供encodeWithCoder:和initWithCoder:方法。前一个方法告诉系统怎么对对象进行编码，而后一个方法则是告诉系统怎么对对象进行解码。例如对Possession对象归档保存。</h2><h3 id="定义Possession："><a href="#定义Possession：" class="headerlink" title="定义Possession："></a>定义Possession：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@interface  Possession：NSObject&lt;NSCoding&gt;&#123;//遵守NSCoding协议</span><br><span class="line"></span><br><span class="line">       NSString *name;//待归档类型</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@implementation Possession</span><br><span class="line"></span><br><span class="line">-(void)encodeWithCoder:(NSCoder *)aCoder&#123;</span><br><span class="line"></span><br><span class="line">            [aCoder encodeObject:name forKey:@&quot;name&quot;];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(void)initWithCoder:(NSCoder *)aDecoder&#123;</span><br><span class="line"></span><br><span class="line">            name=[[aDeCoder decodeObjectforKey:@&quot;name&quot;] retain];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="归档操作："><a href="#归档操作：" class="headerlink" title="归档操作："></a>归档操作：</h3><p>如果对Possession对象allPossession归档保存，只需要NSCoder子类NSKeyedArchiver的方法archiveRootObject:toFile: 即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSString *path = [self possessionArchivePath];</span><br><span class="line"></span><br><span class="line">[NSKeyedArchiver archiveRootObject:allPossessions toFile:path];</span><br></pre></td></tr></table></figure>
<h3 id="解压操作："><a href="#解压操作：" class="headerlink" title="解压操作："></a>解压操作：</h3><p>同样调用NSCoder子类NSKeyedArchiver的方法unarchiveRootObject:toFile: 即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allPossessions = [[NSKeyedUnarchiver unarchiveObjectWithFile:path] retain];</span><br></pre></td></tr></table></figure>
<p>缺点：归档的形式来保存数据，只能一次性归档保存以及一次性解压。所以只能针对小量数据，而且对数据操作比较笨拙，即如果想改动数据的某一小部分，还是需要解压整个数据或者归档整个数据。</p>
<h2 id="2-NSUserDefaults：用来保存应用程序设置和属性、用户保存的数据。用户再次打开程序或开机后这些数据仍然存在。NSUserDefaults可以存储的数据类型包括：NSData、NSString、NSNumber、NSDate、NSArray、NSDictionary。如果要存储其他类型，则需要转换为前面的类型，才能用NSUserDefaults存储。具体实现为："><a href="#2-NSUserDefaults：用来保存应用程序设置和属性、用户保存的数据。用户再次打开程序或开机后这些数据仍然存在。NSUserDefaults可以存储的数据类型包括：NSData、NSString、NSNumber、NSDate、NSArray、NSDictionary。如果要存储其他类型，则需要转换为前面的类型，才能用NSUserDefaults存储。具体实现为：" class="headerlink" title="2.NSUserDefaults：用来保存应用程序设置和属性、用户保存的数据。用户再次打开程序或开机后这些数据仍然存在。NSUserDefaults可以存储的数据类型包括：NSData、NSString、NSNumber、NSDate、NSArray、NSDictionary。如果要存储其他类型，则需要转换为前面的类型，才能用NSUserDefaults存储。具体实现为："></a>2.NSUserDefaults：用来保存应用程序设置和属性、用户保存的数据。用户再次打开程序或开机后这些数据仍然存在。NSUserDefaults可以存储的数据类型包括：NSData、NSString、NSNumber、NSDate、NSArray、NSDictionary。如果要存储其他类型，则需要转换为前面的类型，才能用NSUserDefaults存储。具体实现为：</h2><h3 id="保存数据："><a href="#保存数据：" class="headerlink" title="保存数据："></a>保存数据：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NSUserDefaults *defaults =[NSUserDefaults standardUserDefaults];</span><br><span class="line"></span><br><span class="line">NSString *name =@”default string“;</span><br><span class="line"></span><br><span class="line">[defaults setObject:firstName forKey:@&quot;name&quot;];</span><br><span class="line"></span><br><span class="line">//获得UIImage实例</span><br><span class="line">UIImage *image=[[UIImage alloc]initWithContentsOfFile:@&quot;photo.jpg&quot;];</span><br><span class="line"></span><br><span class="line">//UIImage对象转换成NSData</span><br><span class="line">NSData *imageData = UIImageJPEGRepresentation(image, 100);</span><br><span class="line"></span><br><span class="line">//用synchronize方法把数据持久化到standardUserDefaults数据库</span><br><span class="line">[defaults synchronize];</span><br></pre></td></tr></table></figure>
<h3 id="读取数据："><a href="#读取数据：" class="headerlink" title="读取数据："></a>读取数据：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NSUserDefaults *defaults =[NSUserDefaults standardUserDefaults];</span><br><span class="line"></span><br><span class="line">//根据键值取出name</span><br><span class="line">NSString *name = [defaults objectForKey:@&quot;name&quot;];</span><br><span class="line"></span><br><span class="line">NSData *imageData = [defaults dataForKey:@&quot;image&quot;];</span><br><span class="line"></span><br><span class="line">//NSData转换为UIImage</span><br><span class="line">UIImage *Image = [UIImage imageWithData:imageData];</span><br></pre></td></tr></table></figure>
<h3 id="3-Write写入方式：永久保存在磁盘中。具体方法为："><a href="#3-Write写入方式：永久保存在磁盘中。具体方法为：" class="headerlink" title="3. Write写入方式：永久保存在磁盘中。具体方法为："></a>3. Write写入方式：永久保存在磁盘中。具体方法为：</h3><p>##第一步：获得文件即将保存的路径：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,  NSUserDomainMask,YES);//使用C函数NSSearchPathForDirectoriesInDomains来获得沙盒中目录的全路径。该函数有三个参数，目录类型、he domain mask、布尔值。其中布尔值表示是否需要通过～扩展路径。而且第一个参数是不变的，即为NSSearchPathDirectory 。在IOS中后两个参数也是不变的，即为：NSUserDomainMask 和 YES。</span><br><span class="line"> NSString *ourDocumentPath =[documentPaths objectAtIndex:0];</span><br></pre></td></tr></table></figure>
<p>还有一种方法是使用NSHomeDirectory函数获得sandbox的路径。具体的用法为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// Once you have the full sandbox path, you can create a path from it，但是不能在sandbox的本文件层上写文件也不能创建目录，而应该是此基础上创建一个新的可写的目录，例如Documents,Library或者temp。</span><br><span class="line">NSString *sandboxPath = NSHomeDirectory();</span><br><span class="line"></span><br><span class="line">//将Documents添加到sandbox路径上，具体原因前面分析了！</span><br><span class="line">NSString *documentPath = [sandboxPath</span><br><span class="line">            stringByAppendingPathComponent:@&quot;Documents&quot;];</span><br></pre></td></tr></table></figure>
<p>这两者的区别就是：使用NSSearchPathForDirectoriesInDomains比在NSHomeDirectory后面添加Document更加安全。因为该文件目录可能在未来发送的系统上发生改变。</p>
<h3 id="第二步：生成在该路径下的文件："><a href="#第二步：生成在该路径下的文件：" class="headerlink" title="第二步：生成在该路径下的文件："></a>第二步：生成在该路径下的文件：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//fileName就是保存文件的文件名</span><br><span class="line">NSString *FileName=[documentDirectory stringByAppendingPathComponent:fileName];</span><br></pre></td></tr></table></figure>
<h3 id="第三步：往文件中写入数据："><a href="#第三步：往文件中写入数据：" class="headerlink" title="第三步：往文件中写入数据："></a>第三步：往文件中写入数据：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//将NSData类型对象data写入文件，文件名为FileName</span><br><span class="line">[data writeToFile:FileName atomically:YES];</span><br></pre></td></tr></table></figure>
<h3 id="最后：从文件中读出数据："><a href="#最后：从文件中读出数据：" class="headerlink" title="最后：从文件中读出数据："></a>最后：从文件中读出数据：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//从FileName中读取出数据</span><br><span class="line">NSData data=[NSData dataWithContentsOfFile:FileName options:0 error:NULL];</span><br></pre></td></tr></table></figure>
<h2 id="4-SQLite：采用SQLite数据库来存储数据。SQLite作为一中小型数据库，应用ios中，跟前三种保存方式相比，相对比较复杂一些。还是一步步来吧！"><a href="#4-SQLite：采用SQLite数据库来存储数据。SQLite作为一中小型数据库，应用ios中，跟前三种保存方式相比，相对比较复杂一些。还是一步步来吧！" class="headerlink" title="4. SQLite：采用SQLite数据库来存储数据。SQLite作为一中小型数据库，应用ios中，跟前三种保存方式相比，相对比较复杂一些。还是一步步来吧！"></a>4. SQLite：采用SQLite数据库来存储数据。SQLite作为一中小型数据库，应用ios中，跟前三种保存方式相比，相对比较复杂一些。还是一步步来吧！</h2><h3 id="第一步：需要添加SQLite相关的库以及头文件：在项目文件的Build-Phases下，找到Link-Binary-Library-ies-，添加libsqlite3-0-dylib（libsqlite3-dylib与前者的区别暂时不知，两者应该差不多）；在项目文件中头文件或者源文件中添加头文件-import-“-usr-include-sqlite3-h”"><a href="#第一步：需要添加SQLite相关的库以及头文件：在项目文件的Build-Phases下，找到Link-Binary-Library-ies-，添加libsqlite3-0-dylib（libsqlite3-dylib与前者的区别暂时不知，两者应该差不多）；在项目文件中头文件或者源文件中添加头文件-import-“-usr-include-sqlite3-h”" class="headerlink" title="第一步：需要添加SQLite相关的库以及头文件：在项目文件的Build Phases下，找到Link Binary Library(ies)，添加libsqlite3.0.dylib（libsqlite3.dylib与前者的区别暂时不知，两者应该差不多）；在项目文件中头文件或者源文件中添加头文件#import “/usr/include/sqlite3.h”"></a>第一步：需要添加SQLite相关的库以及头文件：在项目文件的Build Phases下，找到Link Binary Library(ies)，添加libsqlite3.0.dylib（libsqlite3.dylib与前者的区别暂时不知，两者应该差不多）；在项目文件中头文件或者源文件中添加头文件#import “/usr/include/sqlite3.h”</h3><h3 id="第二步：开始使用SQLite："><a href="#第二步：开始使用SQLite：" class="headerlink" title="第二步：开始使用SQLite："></a>第二步：开始使用SQLite：</h3><p>使用前注意：如果不往数据库里面添加任何的表，这个数据库等于没有建立，不会在硬盘上产生任何文件，如果数据库已经存在，则会打开这个数据库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NSArray *documentsPaths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask , YES);</span><br><span class="line">NSString *databaseFilePath=[[documentsPaths objectAtIndex:0] stringByAppendingPathComponent:@&quot;mydb&quot;];</span><br><span class="line">//上面两句已经比较熟悉了吧！</span><br><span class="line">//打开数据库</span><br><span class="line">if (sqlite3_open([databaseFilePath UTF8String], &amp;database)==SQLITE_OK) &#123;</span><br><span class="line">        NSLog(@&quot;sqlite dadabase is opened.&quot;);</span><br><span class="line">&#125;</span><br><span class="line">else&#123; return;&#125;//打开不成功就返回</span><br></pre></td></tr></table></figure>
<h3 id="在打开了数据库的前提下，如果数据库没有表，那就开始建表了哦！"><a href="#在打开了数据库的前提下，如果数据库没有表，那就开始建表了哦！" class="headerlink" title="在打开了数据库的前提下，如果数据库没有表，那就开始建表了哦！"></a>在打开了数据库的前提下，如果数据库没有表，那就开始建表了哦！</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">char *error;</span><br><span class="line">const char *createSql=&quot;create table(id integer primary key autoincrement, name text)&quot;;</span><br><span class="line">if (sqlite3_exec(database, createSql, NULL, NULL, &amp;error)==SQLITE_OK) &#123;</span><br><span class="line">        NSLog(@&quot;create table is ok.&quot;);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">       NSLog(@&quot;error: %s&quot;,error);</span><br><span class="line">       sqlite3_free(error);//每次使用完毕清空error字符串，提供给下一次使用</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="建表完成之后，就开始插入记录："><a href="#建表完成之后，就开始插入记录：" class="headerlink" title="建表完成之后，就开始插入记录："></a>建表完成之后，就开始插入记录：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">const char *insertSql=&quot;insert into a person (name) values(‘gg’)&quot;;</span><br><span class="line">if (sqlite3_exec(database, insertSql, NULL, NULL, &amp;error)==SQLITE_OK) &#123;</span><br><span class="line">        NSLog(@&quot;insert operation is ok.&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">       NSLog(@&quot;error: %s&quot;,error);</span><br><span class="line">       sqlite3_free(error);//每次使用完毕清空error字符串，提供给下一次使用</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="下一步，查询记录："><a href="#下一步，查询记录：" class="headerlink" title="下一步，查询记录："></a>下一步，查询记录：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const char *selectSql=&quot;select id,name from a person&quot;;</span><br><span class="line">sqlite3_stmt *statement;</span><br><span class="line">if (sqlite3_prepare_v2(database,selectSql, -1, &amp;statement, nil)==SQLITE_OK) &#123;</span><br><span class="line">        NSLog(@&quot;select operation is ok.&quot;);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">       NSLog(@&quot;error: %s&quot;,error);</span><br><span class="line">       sqlite3_free(error);</span><br><span class="line">&#125;</span><br><span class="line">while(sqlite3_step(statement)==SQLITE_ROW) &#123;</span><br><span class="line">int _id=sqlite3_column_int(statement, 0);</span><br><span class="line">NSString *name=(char*)sqlite3_column_text(statement, 1);</span><br><span class="line">NSLog(@&quot;row&gt;&gt;id %i, name %s&quot;,_id,name);</span><br><span class="line">&#125;</span><br><span class="line">sqlite3_finalize(statement);</span><br></pre></td></tr></table></figure>
<h3 id="最后，关闭数据库："><a href="#最后，关闭数据库：" class="headerlink" title="最后，关闭数据库："></a>最后，关闭数据库：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite3_close(database);</span><br></pre></td></tr></table></figure>
<p>注意：写入数据库，字符串可以采用char方式，而从数据库中取出char类型，当char类型有表示中文字符时，会出现乱码。这是因为数据库默认使用ascII编码方式。所以要想正确从数据库中取出中文，需要用NSString来接收从数据库取出的字符串。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/14/iOS-四种保存数据的方式/" itemprop="url">
                  iOS 四种保存数据的方式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-14T17:28:47+08:00" content="2016-03-14">
              2016-03-14
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/14/iOS-四种保存数据的方式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/14/iOS-四种保存数据的方式/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/11/介绍一些正在使用或者好玩的iOS越狱插件/" itemprop="url">
                  介绍一些正在使用或者好玩的iOS越狱插件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-11T15:07:58+08:00" content="2016-03-11">
              2016-03-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/11/介绍一些正在使用或者好玩的iOS越狱插件/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/11/介绍一些正在使用或者好玩的iOS越狱插件/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="介绍一些正在使用或者好玩的iOS越狱插件"><a href="#介绍一些正在使用或者好玩的iOS越狱插件" class="headerlink" title="介绍一些正在使用或者好玩的iOS越狱插件"></a>介绍一些正在使用或者好玩的iOS越狱插件</h1><h2 id="什么是越狱"><a href="#什么是越狱" class="headerlink" title="什么是越狱"></a>什么是越狱</h2><p>“越狱”指的是绕过苹果在其设备上对操作系统施加的很多限制，从而可以“Root访问”基础的操作系统。简单来说，“越狱”可以让iPhone用户从苹果应用商店外下载其他非官方的应用程序，或者对用户界面进行定制。</p>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><h3 id="DataMember"><a href="#DataMember" class="headerlink" title="DataMember"></a>DataMember</h3><p>一款可以实时显示网络数据的悬浮窗控件。</p>
<ul>
<li><p>通知中心显示wifi和数据流量信息</p>
</li>
<li><p>状态显示数据传转速率</p>
</li>
<li><p>按天,周,月显示数据使用情况</p>
</li>
<li><p>可通过设置选项自定义显示</p>
</li>
</ul>
<h3 id="EnableLivePhotos"><a href="#EnableLivePhotos" class="headerlink" title="EnableLivePhotos"></a>EnableLivePhotos</h3><p>使用EnableLivePhotos后不仅仅是可以在拍照界面中开启LivePhotos模式，还能在图库中像iPhone6s系列那样浏览拍下来的动态图，长按即可查看整个动态效果;并且可以通过“分享”按钮将 LivePhotos设置成动态的桌面或者锁屏壁纸，同样通过长按即可让图片动起来。</p>
<h3 id="Kuaidial"><a href="#Kuaidial" class="headerlink" title="Kuaidial"></a>Kuaidial</h3><p>Kuaidial是一款知名的iOS越狱来电归属地插件。众所周知，苹果在iOS8中首次加入了来电归属地功能，但是该功能仅限于陌生来电，对于已加入通讯录中的号码则不具备归属地显示功能，并且也不支持短信归属地及T9拨号等功能。而Kuaidial之所以深受越狱用户的喜爱，正是因为其能满足用户在这些方面的需求，更全面的电话/短信归属地显示功能、更方便快捷的T9拨号，还能支持自定义拦截黑名单等，多少用户越狱正是为Kuaidial而来。</p>
<h3 id="Flex2"><a href="#Flex2" class="headerlink" title="Flex2"></a>Flex2</h3><p>这款插件想必很多熟悉越狱的用户都不会陌生，它就是大名鼎鼎的Flex。最新版的Flex2拥有“反越狱检查”功能，可以让越狱后的设备避开App本身的检查机制，从而继续使用方便快捷的指纹支付功能。此外，该插件还能支持去掉部分App中的广告，功能甚是强大。</p>
<h3 id="revealMenu"><a href="#revealMenu" class="headerlink" title="revealMenu"></a>revealMenu</h3><p>一款名为Forcy的iOS9越狱插件可以让旧iPhone玩上3D Touch功能，事实上这并不是唯一一款类iPhone6s 3D Touch功能插件，下面小编为你推荐另外一款3D Touch插件——revealMenu，据已经体验过的小伙伴反馈，这款插件的功能还强过Forcy。<br>在操作方式上，Forcy通过上滑触发，而revealMenu通过长按触发，并且配合另一个插件Hapticle提供的振动反馈，做到跟iPhone6s几乎一模一样。(Hapticle同样适用于Forcy，如果你更喜欢Forcy，也可以装Hapticle添加振动反馈)</p>
<h3 id="Springtomize-3"><a href="#Springtomize-3" class="headerlink" title="Springtomize 3"></a>Springtomize 3</h3><p>大家对于Springtomize系列插件应该是非常熟悉了，它可以对iOS中的大部分元素进行自定义，堪称插件中的“瑞士军刀”，它提供了许多功能，包括：动画效果、图标美化、锁屏界面自定义、隐藏Dock栏、控制中心增强等。</p>
<h3 id="Auxo-3"><a href="#Auxo-3" class="headerlink" title="Auxo 3"></a>Auxo 3</h3><p>大部分越狱用户对Auxo 3应该不会感到陌生。而对于新用户来说，如果你希望寻找新的应用切换体验的话，Auxo 3一定不可错过。Auxo 3将控制中心和应用切换界面进行了整合，用户只需从屏幕底部向上滑动即可呼出新的界面。</p>
<h3 id="Activator"><a href="#Activator" class="headerlink" title="Activator"></a>Activator</h3><p>一直以来，Activator都是iOS平台上最受欢迎的插件之一，因为它可以带来各种各样的手势操作，最大限度地解放手机上的Home键。在手机的主界面上，用户可以选择在多种情况下使用手势：任何地方、主屏幕上、应用内和锁屏界面。一般情况下，任何地方就是指用户设置的快捷键会在主屏幕和应用内触发，但不包括锁屏状态。</p>
<h3 id="WinterBoard"><a href="#WinterBoard" class="headerlink" title="WinterBoard"></a>WinterBoard</h3><p>目前适配iOS9的WinterBoard已经上架Cydia，iOS设备美化控不能错过。作为越狱的一个主要原因，让iOS设备更个性化一直是不少用户的愿望，而WinterBoard则提供了这样一个平台。如果说iOS发展到今天已经没有其它必要越狱的话，美化或许会是最后的一个越狱理由。  </p>
<h3 id="BioProtect"><a href="#BioProtect" class="headerlink" title="BioProtect"></a>BioProtect</h3><p>手机越来越成为人们生活的私密物品，大多数人的手机中多多少少都会储存着一些私密信息如私照、视频或是短信等等，而在日常使用中又难免有时会碰到别人借手机的情景，这个时候对私密信息进行加密就显得非常重要了。下面25PP小编为你推荐一款越狱指纹加密插件——BioProtect，支持iOS9越狱。</p>
<h3 id="Forcy"><a href="#Forcy" class="headerlink" title="Forcy"></a>Forcy</h3><p>这款插件名为Forcy，与iPhone6s上通过按压呼出二级菜单不同，Forcy只需用户对桌面上的应用图标执行上滑操作便可呼出类似3D Touch的快捷菜单。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/11/iOS9 3DTouch、ShortcutItem、Peek And Pop技术一览/" itemprop="url">
                  iOS9 3DTouch、ShortcutItem、Peek And Pop技术一览
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-11T11:15:48+08:00" content="2016-03-11">
              2016-03-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/11/iOS9 3DTouch、ShortcutItem、Peek And Pop技术一览/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/11/iOS9 3DTouch、ShortcutItem、Peek And Pop技术一览/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="iOS9-3DTouch、ShortcutItem、Peek-And-Pop技术一览"><a href="#iOS9-3DTouch、ShortcutItem、Peek-And-Pop技术一览" class="headerlink" title="iOS9 3DTouch、ShortcutItem、Peek And Pop技术一览"></a>iOS9 3DTouch、ShortcutItem、Peek And Pop技术一览</h1><h2 id="3DTouch"><a href="#3DTouch" class="headerlink" title="3DTouch"></a>3DTouch</h2><p><img src="https://developer.apple.com/ios/3d-touch/images/pressure-sensitivity_2x.jpg" alt=""></p>
<h2 id="UITouch类里API的变化"><a href="#UITouch类里API的变化" class="headerlink" title="UITouch类里API的变化"></a>UITouch类里API的变化</h2><h3 id="iOS9中添加的属性"><a href="#iOS9中添加的属性" class="headerlink" title="iOS9中添加的属性"></a>iOS9中添加的属性</h3><h6 id="altitudeAngle"><a href="#altitudeAngle" class="headerlink" title="altitudeAngle"></a>altitudeAngle</h6><ul>
<li><p>当笔平行于平面时,该值为0</p>
</li>
<li><p>当笔垂直于平面时,该值为Pi / 2</p>
</li>
</ul>
<h6 id="estimatedProperties"><a href="#estimatedProperties" class="headerlink" title="estimatedProperties"></a>estimatedProperties</h6><ul>
<li><p>当前触摸对象估计的触摸特性</p>
</li>
<li><p>返回值是UITouchPropertyies</p>
</li>
</ul>
<h6 id="updatedProperties"><a href="#updatedProperties" class="headerlink" title="updatedProperties"></a>updatedProperties</h6><ul>
<li><p>当前触摸对象已经更新的触摸特性</p>
</li>
<li><p>返回值是UITouchPropertyies</p>
</li>
</ul>
<h6 id="estimationUpdateIndex"><a href="#estimationUpdateIndex" class="headerlink" title="estimationUpdateIndex"></a>estimationUpdateIndex</h6><ul>
<li><p>当每个触摸对象的触摸特性发生变化时，该值将会单独增加</p>
</li>
<li><p>返回值是NSNumber</p>
</li>
</ul>
<h3 id="iOS9中添加的方法"><a href="#iOS9中添加的方法" class="headerlink" title="iOS9中添加的方法"></a>iOS9中添加的方法</h3><h6 id="PreciseLocationInView"><a href="#PreciseLocationInView" class="headerlink" title="- PreciseLocationInView:"></a>- PreciseLocationInView:</h6><ul>
<li>当前触摸对象的坐标</li>
</ul>
<h6 id="PrecisePreviousLocationInView"><a href="#PrecisePreviousLocationInView" class="headerlink" title="- PrecisePreviousLocationInView:"></a>- PrecisePreviousLocationInView:</h6><ul>
<li>当前触摸对象的前置坐标</li>
</ul>
<h6 id="azimuthAngleInview"><a href="#azimuthAngleInview" class="headerlink" title="- azimuthAngleInview:"></a>- azimuthAngleInview:</h6><ul>
<li><p>沿着x轴正向的方位角</p>
</li>
<li><p>当与x轴正向方向相同时,该值为0</p>
</li>
<li><p>当view参数为nil时，默认为keyWindow</p>
</li>
</ul>
<h6 id="azimuthUnitVectorInView"><a href="#azimuthUnitVectorInView" class="headerlink" title="- azimuthUnitVectorInView:"></a>- azimuthUnitVectorInView:</h6><ul>
<li><p>当前触摸对象的方向上的单位向量</p>
</li>
<li><p>当view参数为nil时，默认为keyWindow</p>
</li>
</ul>
<h3 id="UIForceTouchCapability"><a href="#UIForceTouchCapability" class="headerlink" title="UIForceTouchCapability"></a>UIForceTouchCapability</h3><h6 id="UIForceTouchCapabilityUnknown"><a href="#UIForceTouchCapabilityUnknown" class="headerlink" title="UIForceTouchCapabilityUnknown"></a>UIForceTouchCapabilityUnknown</h6><ul>
<li>不能确定是否支持压力感应</li>
</ul>
<h6 id="UIForceTouchCapabilityUnavailable"><a href="#UIForceTouchCapabilityUnavailable" class="headerlink" title="UIForceTouchCapabilityUnavailable"></a>UIForceTouchCapabilityUnavailable</h6><ul>
<li>不能支持压力感应</li>
</ul>
<h6 id="UIForceTouchCapabilityAvailable"><a href="#UIForceTouchCapabilityAvailable" class="headerlink" title="UIForceTouchCapabilityAvailable"></a>UIForceTouchCapabilityAvailable</h6><ul>
<li>可以支持压力感应</li>
</ul>
<h3 id="UITouchType"><a href="#UITouchType" class="headerlink" title="UITouchType"></a>UITouchType</h3><h6 id="UITouchTypeDirect"><a href="#UITouchTypeDirect" class="headerlink" title="UITouchTypeDirect"></a>UITouchTypeDirect</h6><ul>
<li>垂直的触摸类型</li>
</ul>
<h6 id="UITouchTypeIndirect"><a href="#UITouchTypeIndirect" class="headerlink" title="UITouchTypeIndirect"></a>UITouchTypeIndirect</h6><ul>
<li>非初值的触摸类型</li>
</ul>
<h6 id="UITouchTypeStylus"><a href="#UITouchTypeStylus" class="headerlink" title="UITouchTypeStylus"></a>UITouchTypeStylus</h6><ul>
<li>水平的触摸类型</li>
</ul>
<h3 id="UITouchProperties"><a href="#UITouchProperties" class="headerlink" title="UITouchProperties"></a>UITouchProperties</h3><h6 id="UITouchPropertyForce"><a href="#UITouchPropertyForce" class="headerlink" title="UITouchPropertyForce"></a>UITouchPropertyForce</h6><h2 id="ShortcutItem"><a href="#ShortcutItem" class="headerlink" title="ShortcutItem"></a>ShortcutItem</h2><p><img src="https://developer.apple.com/ios/3d-touch/images/quick-actions_2x.jpg" alt=""></p>
<h3 id="静态方式"><a href="#静态方式" class="headerlink" title="静态方式"></a>静态方式</h3><ul>
<li>打开Info.plist文件</li>
<li>在对应UIApplicationShortcutItems关键字下添加item</li>
</ul>
<h3 id="动态方式"><a href="#动态方式" class="headerlink" title="动态方式"></a>动态方式</h3><h4 id="修改当前应用程序的某个shortcutItem"><a href="#修改当前应用程序的某个shortcutItem" class="headerlink" title="修改当前应用程序的某个shortcutItem"></a>修改当前应用程序的某个shortcutItem</h4><pre><code>//获取第0个shortcutItem  
id oldItem = [existingShortcutItems objectAtIndex: 0];  
//将旧的shortcutItem改变为可修改类型shortcutItem  
id mutableItem = [oldItem mutableCopy];  
//修改shortcutItem的显示标题  
[mutableItem setLocalizedTitle: @“Click Lewis”];
</code></pre><h4 id="获取当前应用程序的shortcutItems"><a href="#获取当前应用程序的shortcutItems" class="headerlink" title="获取当前应用程序的shortcutItems"></a>获取当前应用程序的shortcutItems</h4><pre><code>//获取当前应用程序对象  
UIApplication *app = [UIApplication sharedApplication];  
//获取一个应用程序对象的shortcutItem列表  
id existingShortcutItems = [app shortcutItems];
</code></pre><h4 id="重置当前应用程序的shortcutItems"><a href="#重置当前应用程序的shortcutItems" class="headerlink" title="重置当前应用程序的shortcutItems"></a>重置当前应用程序的shortcutItems</h4><pre><code>//根据旧的shortcutItems生成可变shortcutItems数组  
id updatedShortcutItems = [existingShortcutItems mutableCopy];  
//修改可变shortcutItems数组中对应index下的元素为新的shortcutItem  
[updatedShortcutItems replaceObjectAtIndex: 0 withObject: mutableItem];  
//修改应用程序对象的shortcutItems为新的数组  
[app setShortcutItems: updatedShortcutItems];
</code></pre><h3 id="创建一个新的UIApplicationShortcutItem"><a href="#创建一个新的UIApplicationShortcutItem" class="headerlink" title="创建一个新的UIApplicationShortcutItem"></a>创建一个新的UIApplicationShortcutItem</h3><ul>
<li><p>初始化函数</p>
<ul>
<li><p>-initWithType:localizedTitle:localizedSubtitle:icon:userInfo:</p>
</li>
<li><p>-initWithType:localizedTitle:</p>
</li>
</ul>
</li>
<li><p>属性</p>
<ul>
<li><p>-localizedTitle:NSString</p>
</li>
<li><p>-localizedSubtitle:NSString</p>
</li>
<li><p>-type:NSString</p>
</li>
<li><p>-icon:UIApplicationShortcutIcon</p>
</li>
<li><p>-userInfo:NSDictionary</p>
</li>
<li><p>只有只读特性，想要进行修改时，需要通过mutableCopy方法转变为NSMutableApplicationShortcutItem</p>
</li>
</ul>
</li>
</ul>
<h3 id="创建一个新的Item图标"><a href="#创建一个新的Item图标" class="headerlink" title="创建一个新的Item图标"></a>创建一个新的Item图标</h3><ul>
<li><p>初始化函数</p>
<ul>
<li><p>+iconWithType:</p>
</li>
<li><p>+iconWithTemplateImageName:</p>
</li>
<li><p>+iconWithContact:</p>
</li>
</ul>
</li>
</ul>
<h3 id="当程序启动时"><a href="#当程序启动时" class="headerlink" title="当程序启动时"></a>当程序启动时</h3><ul>
<li>判断launchOptions字典内的UIApplicationLaunchOptionsShortcutItemKey是否为空</li>
<li>当不为空时,application:didFinishLaunchWithOptions方法返回false，否则返回true</li>
<li>在application:performActionForShortcutItem:completionHandler方法内处理点击事件</li>
</ul>
<h2 id="Peek-and-Pop"><a href="#Peek-and-Pop" class="headerlink" title="Peek and Pop"></a>Peek and Pop</h2><p><img src="https://developer.apple.com/ios/3d-touch/images/peek-and-pop_2x.jpg" alt=""></p>
<h3 id="注册预览功能的代理对象和源视图"><a href="#注册预览功能的代理对象和源视图" class="headerlink" title="注册预览功能的代理对象和源视图"></a>注册预览功能的代理对象和源视图</h3><h4 id="代理对象需要接受UIViewControllerPreviewingDelegate协议"><a href="#代理对象需要接受UIViewControllerPreviewingDelegate协议" class="headerlink" title="代理对象需要接受UIViewControllerPreviewingDelegate协议"></a>代理对象需要接受UIViewControllerPreviewingDelegate协议</h4><pre><code>@interface RootVC&lt;UIViewControllerPreviewingDelegate&gt;  
{}  
@end
</code></pre><h4 id="代理对象实现协议内的Peek和Pop方法"><a href="#代理对象实现协议内的Peek和Pop方法" class="headerlink" title="代理对象实现协议内的Peek和Pop方法"></a>代理对象实现协议内的Peek和Pop方法</h4><pre><code> @implementation RootVC  
    - (UIViewController *)previewingContext:(id&lt;UIViewControllerPreviewing&gt;)context viewControllerForLocation:(CGPoint) point  
{  
    UIViewController *childVC = [[UIViewController alloc] init];  
    childVC.preferredContentSize = CGSizeMake(0.0f,300f);  

    CGRect rect = CGRectMake(10, point.y - 10, self.view.frame.size.width - 20,20);  
    context.sourceRect = rect;  
    return childVC;  
}  

- (void)previewContext:(id&lt;UIViewControllerPreviewing&gt;)context commitViewController:(UIViewController*)vc  
{  
    [self showViewController:vc sender:self];  
}  
@end
</code></pre><h4 id="注册方法声明在UIViewController类内"><a href="#注册方法声明在UIViewController类内" class="headerlink" title="注册方法声明在UIViewController类内"></a>注册方法声明在UIViewController类内</h4><pre><code>[self registerForPreviewingWithDelegate:self sourceView:self.view];
</code></pre><p> 著作权归作者所有，原文链接:<a href="http://www.jianshu.com/p/74fe6cbc542b" target="_blank" rel="external">http://www.jianshu.com/p/74fe6cbc542b</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/11/如何获取iOS设备的UDID/" itemprop="url">
                  如何获取iOS设备的UDID
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-11T10:20:06+08:00" content="2016-03-11">
              2016-03-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/11/如何获取iOS设备的UDID/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/11/如何获取iOS设备的UDID/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="如何获取iOS设备的UDID"><a href="#如何获取iOS设备的UDID" class="headerlink" title="如何获取iOS设备的UDID"></a>如何获取iOS设备的UDID</h1><h2 id="什么是-UDID？"><a href="#什么是-UDID？" class="headerlink" title="什么是 UDID？"></a>什么是 UDID？</h2><p> UDID 是由子母和数字组成的 40 个字符串的序号，用来区别每一个唯一的 iOS 设备，包括 iPhones, iPads, 以及 iPod Touches，这些编码看起来是随机的，实际上是跟硬件设备特点相联系的。</p>
<p>例如，一个典型的 UDID 类似这样：</p>
<pre><code>37f2f993bae681636e30e74b04d6b8955ba36f29
</code></pre><h2 id="UDID-和-Ad-Hoc"><a href="#UDID-和-Ad-Hoc" class="headerlink" title="UDID 和 Ad Hoc"></a>UDID 和 Ad Hoc</h2><p>如果 iOS 设备要安装以 Ad Hoc 方式打包的 iOS 应用时，必须将该设备的 UDID 加入打包应用时的证书文件（.mobileprovision文件），才可以在该设备上正常安装。</p>
<h2 id="如何获取-iOS-设备-UDID？"><a href="#如何获取-iOS-设备-UDID？" class="headerlink" title="如何获取 iOS 设备 UDID？"></a>如何获取 iOS 设备 UDID？</h2><p>UDID 的获得可以由 iTunes 工具来获得，也可以通过 Xcode 来获得，不过无论是 iTunes 还是 Xcode，都会稍显麻烦。</p>
<h3 id="1-蒲公英（★★★★★）"><a href="#1-蒲公英（★★★★★）" class="headerlink" title="1.蒲公英（★★★★★）"></a>1.蒲公英（★★★★★）</h3><p>蒲公英提供了一个简单的获取 UDID 的工具。在Safari中打开<a href="http://www.pgyer.com/udid" target="_blank" rel="external">链接</a>.</p>
<p>在 iOS 设备上打开上面的地址，即可方便的获取到当前设备的 UDID。</p>
<h6 id="注意：请根据网页的提示，安装蒲公英提供的描述文件。如果手机设置了锁屏密码，则需要根据提示输入锁屏密码。"><a href="#注意：请根据网页的提示，安装蒲公英提供的描述文件。如果手机设置了锁屏密码，则需要根据提示输入锁屏密码。" class="headerlink" title="注意：请根据网页的提示，安装蒲公英提供的描述文件。如果手机设置了锁屏密码，则需要根据提示输入锁屏密码。"></a>注意：请根据网页的提示，安装蒲公英提供的描述文件。如果手机设置了锁屏密码，则需要根据提示输入锁屏密码。</h6><h3 id="2-iTunes（★★★☆☆）"><a href="#2-iTunes（★★★☆☆）" class="headerlink" title="2.iTunes（★★★☆☆）"></a>2.iTunes（★★★☆☆）</h3><p>相信iPhone用户的电脑都有iTunes应用，但是由于水土不服iTunes也就很少有人使用。</p>
<ul>
<li>1.将iPhone设备用数据线链接电脑。</li>
<li>2.点击“信任”。</li>
<li>3.打开iTunes，点击设备。</li>
<li>4.选中“摘要”标签。</li>
<li>5.找到序列号，点击序列号就会出现UDID，单击右键Copy。</li>
</ul>
<h3 id="3-Xcode（★☆☆☆☆）"><a href="#3-Xcode（★☆☆☆☆）" class="headerlink" title="3.Xcode（★☆☆☆☆）"></a>3.Xcode（★☆☆☆☆）</h3><p>Xcode获取UDID有很多限制条件，比如得是OS X（黑苹果另说）同时还得安装将近5G的Xcode。</p>
<ul>
<li>1.点击菜单栏的“windows”。</li>
<li>2.选中“devices”。</li>
<li>3.选中你的设备，就能看到“Identifier”, Identifier就是该设备的UDID了。</li>
</ul>
<p>以上三种方法，我最推荐蒲公英获取UDID的方法，简单明了，手机就能操作。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/11/AppStore最新审核指南（2015年3月更新版）/" itemprop="url">
                  AppStore最新审核指南（2015年3月更新版）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-11T09:55:06+08:00" content="2016-03-11">
              2016-03-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/11/AppStore最新审核指南（2015年3月更新版）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/11/AppStore最新审核指南（2015年3月更新版）/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="AppStore最新审核指南（2015年3月更新版）"><a href="#AppStore最新审核指南（2015年3月更新版）" class="headerlink" title="AppStore最新审核指南（2015年3月更新版）"></a>AppStore最新审核指南（2015年3月更新版）</h1><p><img src="http://image.woshipm.com/wp-files/2015/03/4ffce04d92a4d6cb21c1494cdfcd6dc1328.jpg" alt=""></p>
<h6 id="苹果近日更新了App-Store审核指南的相关章节，对此前版本进行了修改和完善。除了增加应用截图、预览等限制外，使用Apple-Pay进行定期付款的应用程序必须展示每个阶段所需款额，费用归属以及如何取消。而从修改的政策部分可以看出，苹果对App-store应用的审核更加严格，鉴于近来国内游戏踩雷屡见不鲜，审核标准请各位业内同学耐心阅读。"><a href="#苹果近日更新了App-Store审核指南的相关章节，对此前版本进行了修改和完善。除了增加应用截图、预览等限制外，使用Apple-Pay进行定期付款的应用程序必须展示每个阶段所需款额，费用归属以及如何取消。而从修改的政策部分可以看出，苹果对App-store应用的审核更加严格，鉴于近来国内游戏踩雷屡见不鲜，审核标准请各位业内同学耐心阅读。" class="headerlink" title="苹果近日更新了App Store审核指南的相关章节，对此前版本进行了修改和完善。除了增加应用截图、预览等限制外，使用Apple Pay进行定期付款的应用程序必须展示每个阶段所需款额，费用归属以及如何取消。而从修改的政策部分可以看出，苹果对App store应用的审核更加严格，鉴于近来国内游戏踩雷屡见不鲜，审核标准请各位业内同学耐心阅读。"></a>苹果近日更新了App Store审核指南的相关章节，对此前版本进行了修改和完善。除了增加应用截图、预览等限制外，使用Apple Pay进行定期付款的应用程序必须展示每个阶段所需款额，费用归属以及如何取消。而从修改的政策部分可以看出，苹果对App store应用的审核更加严格，鉴于近来国内游戏踩雷屡见不鲜，审核标准请各位业内同学耐心阅读。</h6><h2 id="1、条款和条件"><a href="#1、条款和条件" class="headerlink" title="1、条款和条件"></a>1、条款和条件</h2><ul>
<li>1.1为App Store开发程序，开发者必须遵守Program License Agreement(PLA)、人机交互指南(HIG)以及开发者和苹果签订的任何其他协议和合同。以下规则和例证旨在帮助开发者的程序能获得App Store的认可，而不是修改或删除任何其他协议中的条款。</li>
</ul>
<h2 id="2-功能"><a href="#2-功能" class="headerlink" title="2.功能"></a>2.功能</h2><ul>
<li><p>2.1崩溃的程序将会被拒绝。</p>
</li>
<li><p>2.2存在错误的程序将会被拒绝。</p>
</li>
<li><p>2.3跟开发者宣传不符的程序将会被拒绝。</p>
</li>
<li><p>2.4无应用文档或隐藏功能与描述不符的程序将会被拒绝。</p>
</li>
<li><p>2.5使用非公开API的程序将会被拒绝。</p>
</li>
<li><p>2.6在指定容器范围外读写数据的程序将会被拒绝。</p>
</li>
<li><p>2.7以任何方式或形式下载代码的程序将会被拒绝。</p>
</li>
<li><p>2.8安装或运行其他可执行代码的程序将会被拒绝。</p>
</li>
<li><p>2.9Demo版、trial版和test版的程序将会被拒绝。Beta版应用程序可通过TestFlight提交，并且必须遵守相关指南。(此前并未允许Beta版通过TestFlight提交)</p>
</li>
<li><p>2.10 iPhone程序必须不经修改就能以iPhone分辨率和2倍iPhone 3GS的分辨率在iPad上运行。</p>
</li>
<li><p>2.11与App Store已有程序重复的应用可能会被拒绝，特别是数量很多的情况下，比如手电筒应用和爱经应用。</p>
</li>
<li><p>2.12没有显著用途、不独特的应用程序或者与网站简单捆绑的应用有可能被拒;不提供任何持久娱乐价值的程序可能会被拒绝。</p>
</li>
<li><p>2.13内容主要是营销材料或广告的程序将会被拒绝。</p>
</li>
<li><p>2.14包含欺骗或虚假功能，却有没有标明的应用程序将会被拒绝。</p>
</li>
<li><p>2.15大于100MB无法通过蜂窝网络下载的应用(App Store会自动禁止)。</p>
</li>
<li><p>2.16多任务程序使用后台服务仅限于几种目的：VoIP、音频播放、地理位置、完成任务以及本地提醒等。</p>
</li>
<li><p>2.17应用程序只允许使用iOS WebKit框架和WebKit Javascript浏览web内容。</p>
</li>
<li><p>2.18鼓励酗酒或使用违禁药物，或引诱青少年饮酒或吸烟的程序将会被拒绝。</p>
</li>
<li><p>2.19提供错误的系统诊断或不精确的设备数据的应用将会被拒绝。</p>
</li>
<li><p>2.20向App Store上传大量相似版本程序的开发者将会从iOS开发者计划中除名。</p>
</li>
<li><p>2.21简单一首歌曲或者一部影片应用要提交到iTunes store，书籍类应用应该提交到iBookstore。</p>
</li>
<li><p>2.22随意根据环境(如定位或者运营商)限制用户使用的应用会被拒。</p>
</li>
<li><p>2.23应用必须遵守iOS数据储存指导方针(iOS Data Storage Guidelines)，否则应用将被拒。</p>
</li>
<li><p>2.24存放在Newsstand的应用必须遵守开发者项目许可协议(Program License Agreement)的表1、表2以及表3，否则应用将会被拒。</p>
</li>
<li><p>2.25类似App store，或者基于购买或者促销的目的而展示其他应用的应用将会被拒绝</p>
</li>
</ul>
<h6 id="限制更加严格，此前经过特殊审核批准-比如健康管理、航空以及其他无障碍需求等-，或者为特殊群体用户提供具有重大意义的附加值的应用是可以通过的"><a href="#限制更加严格，此前经过特殊审核批准-比如健康管理、航空以及其他无障碍需求等-，或者为特殊群体用户提供具有重大意义的附加值的应用是可以通过的" class="headerlink" title="(限制更加严格，此前经过特殊审核批准(比如健康管理、航空以及其他无障碍需求等)，或者为特殊群体用户提供具有重大意义的附加值的应用是可以通过的)"></a>(限制更加严格，此前经过特殊审核批准(比如健康管理、航空以及其他无障碍需求等)，或者为特殊群体用户提供具有重大意义的附加值的应用是可以通过的)</h6><ul>
<li>2.26只有当app是出于特殊审核需要(比如健康管理、航空以及无障碍需求等)或为特殊群体用户提供具有重大意义的附加值时，才可以展示和推荐自身以外的其他应用程序，否则应用程序将会被拒绝。</li>
</ul>
<h2 id="3-元数据-名称、描述、评级、排名等-近来厂商踩雷屡见不鲜，此部分请详细阅读"><a href="#3-元数据-名称、描述、评级、排名等-近来厂商踩雷屡见不鲜，此部分请详细阅读" class="headerlink" title="3.元数据(名称、描述、评级、排名等)近来厂商踩雷屡见不鲜，此部分请详细阅读"></a>3.元数据(名称、描述、评级、排名等)近来厂商踩雷屡见不鲜，此部分请详细阅读</h2><ul>
<li><p>3.1应用或者元数据中提到其他任何移动平台将会被拒。</p>
</li>
<li><p>3.2带有占位符文本的程序将会被拒绝</p>
</li>
<li><p>3.3应用程序的名称、描述、截图或者预览与应用的内容和功能不相关将会被拒绝。</p>
</li>
</ul>
<h6 id="此前仅对描述有所限制"><a href="#此前仅对描述有所限制" class="headerlink" title="(此前仅对描述有所限制)"></a>(此前仅对描述有所限制)</h6><ul>
<li><p>3.4为了不混淆用户，iTunes Connect中的应用名称应该和展示在设备上的应用名称一致。</p>
</li>
<li><p>3.5不同尺寸的app icon要一致，否则会造成混淆。</p>
</li>
<li><p>3.6图标、截图以及预览不符合4+年龄评级的程序将会被拒绝。</p>
</li>
</ul>
<h6 id="增加了对预览的限制"><a href="#增加了对预览的限制" class="headerlink" title="(增加了对预览的限制)"></a>(增加了对预览的限制)</h6><ul>
<li><p>3.7目录与类型不适合于程序内容的程序将会被拒绝。</p>
</li>
<li><p>3.8开发者有责任为其程序指定适合的评级。不相称的评级可能会由苹果公司修改。</p>
</li>
<li><p>3.9开发者有责任为其程序指定恰当的关键字。不恰当的关键词可能会被苹果公司修改/删除。</p>
</li>
<li><p>3.10试图通过伪造评论或者付费评论的方式在AppStore中操纵或者其欺骗用户评论(或者采用其他不正当方式)以提升排名的开发者将会被苹果从iOS开发者计划中除名。</p>
</li>
<li><p>3.11在安装或打开应用之前，推荐用户重启iOS设备的应用将会被拒。</p>
</li>
<li><p>3.12提交审核的应用程序应包含能正常运行的URL，比如支持服务URL和隐私政策URL。</p>
</li>
<li><p>3.13应用程序的截图、预览或者营销文本没有清晰地指出附加内容或项目需要额外单独购买(比如使用IAP)将会被拒绝。</p>
</li>
<li><p>3.14 App预览仅能使用从应用程序捕获的视频屏幕、旁白、文本以及design overlays，否则应用程序将会被拒绝。</p>
</li>
<li><p>3.15添加App预览的应用程序，未经许可展示真人个人信息将会被拒绝。</p>
</li>
<li><p>3.16 App预览仅能使用在所有选定地区内经过授权许可、用于此目的的音乐。</p>
</li>
<li><p>3.17 App预览包含未经授权的通过app播放的内容(比如iTunes playlist和YouTube流媒体)的应用将会被拒绝。</p>
</li>
</ul>
<h2 id="4-位置"><a href="#4-位置" class="headerlink" title="4.位置"></a>4.位置</h2><ul>
<li><p>4.1在收集、传输或使用位置数据之前未通知并获得用户同意的程序将会被拒绝。</p>
</li>
<li><p>4.2将基于位置的API用于车辆、飞机或其他设备的自动控制或自主控制的应用程序将会被拒绝。</p>
</li>
<li><p>4.3使用基于位置的API用于应急服务的应用程序将会被拒绝。</p>
</li>
</ul>
<h6 id="此处进行了描述修改，未着重指出调度和车队管理"><a href="#此处进行了描述修改，未着重指出调度和车队管理" class="headerlink" title="(此处进行了描述修改，未着重指出调度和车队管理)"></a>(此处进行了描述修改，未着重指出调度和车队管理)</h6><ul>
<li>4.4当与提供的功能或服务密切相关，或者为支持经过授权的广告时，应用程序才可以使用位置数据。</li>
</ul>
<h2 id="5-推送通知"><a href="#5-推送通知" class="headerlink" title="5.推送通知"></a>5.推送通知</h2><ul>
<li><p>5.1不使用苹果推送通知(APN)应用接口提供推送通知的程序将会被拒绝。</p>
</li>
<li><p>5.2未从苹果获得Push Application ID便擅自使用APN服务的程序将会被拒绝。</p>
</li>
<li><p>5.3在首次推送消息或者要求运行推送通知之前未获得用户许可的应用将会被拒绝。</p>
</li>
<li><p>5.4使用推送通知发送敏感个人信息或机密信息的程序将会被拒绝。</p>
</li>
<li><p>5.5使用推送通知发送非请求消息，或用于钓鱼或群发垃圾信息用途的程序将会被拒绝。</p>
</li>
<li><p>5.6应用程序不可使用推送通知发送广告、促销或任何类型的直销信息。</p>
</li>
<li><p>5.7应用程序不能向使用推送通知服务的用户收取费用。</p>
</li>
<li><p>5.8使用推送通知会过多利用APN服务的网络流量或带宽或给设备带来过度负担的程序将会被拒绝。</p>
</li>
<li><p>5.9如果应用程序传送病毒、文件、计算机代码或程序，并且对APN服务的正常运行造成损害或中断，那么该程序将会被拒绝。</p>
</li>
</ul>
<h2 id="6-游戏中心"><a href="#6-游戏中心" class="headerlink" title="6.游戏中心"></a>6.游戏中心</h2><ul>
<li><p>6.1向终端用户或任意第三方显示玩家ID的程序将会被拒绝。</p>
</li>
<li><p>6.2将玩家ID用于任何未经游戏中心条款批准用途的程序将会被拒绝。</p>
</li>
<li><p>6.3试图进行反向搜索、跟踪、关联、挖掘、获得或利用玩家ID、别名或通过游戏中心获得其他信息的开发者将会iOS开发者计划除名。</p>
</li>
<li><p>6.4游戏中心信息(例如排行榜分数)，只能用于游戏中心批准的应用程序中。</p>
</li>
<li><p>6.5利用游戏中心服务发送非请求信息，或用于钓鱼或群发垃圾邮件的程序将会被拒绝。</p>
</li>
<li><p>6.6过多使用游戏中心网络流量或带宽的应用程序将会被拒绝。</p>
</li>
<li><p>6.7如果程序能够传送病毒、文件、计算机代码或程序，并且对游戏中心服务的正常运行造成损害或中断，该程序将会被拒绝。</p>
</li>
</ul>
<h2 id="7-广告"><a href="#7-广告" class="headerlink" title="7.广告"></a>7.广告</h2><ul>
<li><p>7.1人工刷广告浏览量或者广告点击率的应用程序将会被拒绝。</p>
</li>
<li><p>7.2包含空iAd广告的应用程序将会被拒绝。</p>
</li>
<li><p>7.3主要设计目的在于显示广告的应用程序将会被拒绝。</p>
</li>
</ul>
<h2 id="8-商标与商品外观"><a href="#8-商标与商品外观" class="headerlink" title="8.商标与商品外观"></a>8.商标与商品外观</h2><ul>
<li><p>8.1应用程序必须遵守”Guidelines for Using Apple Trademarks and Copyrights”和”Apple Trademark List”中说明的所有条款与条件。</p>
</li>
<li><p>8.2任何误导和暗示苹果公司是该应用程序来源或提供商，或者苹果公司以任何形式表示认可其质量或功能的应用程序将会被拒绝。</p>
</li>
<li><p>8.3与目前已有苹果产品或者广告主题外观相似或混淆的应用程序将会被拒绝。</p>
</li>
<li><p>8.4在应用程序名称中将苹果产品名拼错的应用程序(例如，GPS for Iphone，iTunz)将会被拒绝。</p>
</li>
<li><p>8.5应用程序不得使用受保护的第三方材料(比如商标、版权以及专利)，不能违反第三方使用条款。必须提供使用这些材料的授权许可。</p>
</li>
<li><p>8.6若无明确授权许可，从第三方来源处(比如YouTube、SoundCloud以及Vimeo等)下载音乐或者视频内容的应用程序将会被拒绝。</p>
</li>
</ul>
<h2 id="9-媒体内容"><a href="#9-媒体内容" class="headerlink" title="9.媒体内容"></a>9.媒体内容</h2><ul>
<li><p>9.1不使用媒体播放器框架(MediaPlayer Framework)获取音乐库中媒体内容的应用程序将会被拒绝。</p>
</li>
<li><p>9.2用户界面模仿任何iPod或者iTunes界面的应用程序将会被拒绝。</p>
</li>
<li><p>9.3通过蜂窝网络传输的音频流内容每5分钟不得超过5MB。</p>
</li>
<li><p>9.4通过蜂窝网络传输超过10分钟的视频流内容必须使用HTTP Live Streaming协议，并且要包含一个基线为192kbps或者更低的HTTP实时流。</p>
</li>
</ul>
<h2 id="10-用户界面"><a href="#10-用户界面" class="headerlink" title="10.用户界面"></a>10.用户界面</h2><ul>
<li><p>10.1应用程序必须遵守苹果的《iOS Human Interface Guidelines》中所有的条款和条件。</p>
</li>
<li><p>10.2外观与iPhone自带应用(比如App Store、iTunes Store和iBookstore)相似的应用程序将会被拒绝。</p>
</li>
<li><p>10.3未能按苹果《iOS Human Interface Guidelines》描述正确使用系统提供的项目(比如按钮、图标)的应用将会被拒绝。</p>
</li>
<li><p>10.4创建桌面/主屏幕环境或者模拟multi-App插件体验的应用程序将会被拒绝。</p>
</li>
<li><p>10.5修改音量大小和铃声/静音等标准开关功能的应用程序将会被拒绝。</p>
</li>
<li><p>10.6苹果和我们的客户高度推崇简单、精致、富有创造性以及经过精心设计的界面。虽然需要付出更多，但却非常值得。苹果设立了很高的门槛。如果你的用户界面太过复杂或者水准不高，可能会被拒绝。</p>
</li>
</ul>
<h2 id="11-购买与货币流通"><a href="#11-购买与货币流通" class="headerlink" title="11.购买与货币流通"></a>11.购买与货币流通</h2><ul>
<li><p>11.1使用App Store以外的渠道解锁或开启附加属性和功能的应用程序将会被拒绝。</p>
</li>
<li><p>11.2使用应用内支付系统(IAP)以外的系统购买内容、功能或服务的应用软件将会被拒绝。</p>
</li>
<li><p>11.3使用IAP购买实物商品或者用于该软件之外的商品和服务的应用软件将会被拒绝。</p>
</li>
<li><p>11.4使用IAP购买积分(信用点)或者其他货币必须在本应用中消费。</p>
</li>
<li><p>11.5使用IAP购买已过期积分或其他货币的应用软件将会被拒绝。</p>
</li>
<li><p>11.6使用IAP订阅的内容至少要持续7天，而且允许在用户的其他iOS设备间共享。</p>
</li>
<li><p>11.7使用IAP购买项目的应用程序必须指派正确的购买类型。</p>
</li>
<li><p>11.8使用IAP购买iOS内置功能(如照相机，陀螺仪)的应用程序将会被拒绝。</p>
</li>
<li><p>11.9含有超过限定时间的内容或服务的应用程序将会被拒绝，除经特定批准的内容(比如电影、电视节目音乐以及书籍)。</p>
</li>
<li><p>11.10保险类应用程序必须免费，要遵守发布地区的法律，并且不能使用IAP。</p>
</li>
<li><p>11.11一般而言，你的应用程序越贵，我们的评审会越深入。(对不起，我们国产大部分是免费网游)</p>
</li>
<li><p>11.12提供订阅功能的应用必须使用IAP，苹果将会按照Developer Program License Agreement中的约定与开发者按30/70比例分成。</p>
</li>
<li><p>11.13在应用内使用跳转至外部购买或订阅链接的应用将会被拒，比如”buy”按钮跳转至一个购买电子书的web页面。</p>
</li>
<li><p>11.14只要应用内没有跳转至外部购买、订阅的按钮或链接，苹果允许这些应用读取或展示经批准的、在应用外购买或订阅内容(特别是杂志、报纸、书籍、音频、音乐、视频以及云存储内容)。苹果只能通过应用程序内的购买获得一部分收益。</p>
</li>
<li><p>11.15应用程序可以只使用自动更新订阅期刊(报纸、杂志)、商业应用程序(企业类、效率类、专业创意类以及云存储类)和媒体类应用程序(视频、音频、声音)，否则应用程序将被拒绝。</p>
</li>
<li><p>11.16当与特定的经过审核的实体产品(比如玩具)结合使用时，应用程序可以使用获得批准的附加特性和功能，只要附加功能完全依赖于该硬件产品(比如一款用于控制望远镜的应用程序)或者也可以在不使用实物产品的情况下使用应用程序，比如成就奖励或者使用IAP。</p>
</li>
<li><p>11.17如果应用功能遵照各州和联邦法律，那么应用可以用来促进被认可的虚拟货币的流通。</p>
</li>
</ul>
<h2 id="12-抓取和聚合"><a href="#12-抓取和聚合" class="headerlink" title="12.抓取和聚合"></a>12.抓取和聚合</h2><ul>
<li><p>12.1从苹果网站(例如apple.com、iTunes Store、App Store、iTunes Connect以及Apple Developer Programs等)抓取任何信息或者使用苹果网站内容和服务进行排名的应用程序将会被拒绝。</p>
</li>
<li><p>12.2应用软件可以使用获得批准的苹果RSS feeds，例如iTunes Store RSS feeds。</p>
</li>
<li><p>12.3只是简单的网页剪切、内容整合或者收集链接的应用程序可能会被拒绝。</p>
</li>
</ul>
<h2 id="13-损害设备"><a href="#13-损害设备" class="headerlink" title="13.损害设备"></a>13.损害设备</h2><ul>
<li><p>13.1怂恿用户以可能造成损害的方式使用苹果设备的应用软件将会被拒绝。</p>
</li>
<li><p>13.2快速耗光设备电量或产生过多热量的应用软件将会被拒绝。</p>
</li>
<li><p>13.3能导致用户人身伤害的app将会被拒绝。</p>
</li>
</ul>
<h2 id="14-人身攻击"><a href="#14-人身攻击" class="headerlink" title="14.人身攻击"></a>14.人身攻击</h2><ul>
<li><p>14.1涉及诽谤、人身攻击性质以及内容狭隘卑鄙的应用软件或者打击特定个人或组织的应用软件将会被拒绝。</p>
</li>
<li><p>14.2职业政治讽刺家和幽默作家不受这一条款约束。(开门，查水表)</p>
</li>
<li><p>14.3展示用户创作内容(UGC)的应用程序必须提供一个过滤不良资讯的方法，一个用户可以标记侵犯性内容的机制，以及可以阻止辱骂用户的能力。</p>
</li>
</ul>
<h2 id="15-暴力-此前传禁枪的消息并未在条款中明确指出"><a href="#15-暴力-此前传禁枪的消息并未在条款中明确指出" class="headerlink" title="15.暴力(此前传禁枪的消息并未在条款中明确指出)"></a>15.暴力(此前传禁枪的消息并未在条款中明确指出)</h2><ul>
<li><p>15.1应用程序中出现人或动物被杀、致残以及枪击、刺伤、拷打等受伤情形的真实画面将会被拒绝。</p>
</li>
<li><p>15.2出现描绘暴力或虐待儿童等内容的应用程序将会被拒绝。</p>
</li>
<li><p>15.3游戏中出现的”敌人”不可指向一个特定种族、文化、一个真实存在的政府、企业或者其他任何现实中的实体。</p>
</li>
<li><p>15.4对武器进行真实描述以怂恿非法使用或滥用这些武器的应用程序将会被拒绝。</p>
</li>
<li><p>15.5包含俄罗斯轮盘赌博内容的游戏将会被拒。</p>
</li>
</ul>
<h2 id="16-令人反感的内容"><a href="#16-令人反感的内容" class="headerlink" title="16.令人反感的内容"></a>16.令人反感的内容</h2><ul>
<li><p>16.1应用程序中出现过于令人反感或者低俗的内容将会被拒绝。</p>
</li>
<li><p>16.2在设计上激怒用户或令人感到厌恶的应用程序将会被拒绝。</p>
</li>
</ul>
<h2 id="17-隐私"><a href="#17-隐私" class="headerlink" title="17.隐私"></a>17.隐私</h2><ul>
<li><p>17.1在未经用户事先许可，或未告知用户如何使用信息以及在何处使用信息的情况下，应用程序不能传输用户数据。</p>
</li>
<li><p>17.2要求用户共享电子邮箱地址和出生日期等私人信息才可使用其功能的应用程序将会被拒绝。</p>
</li>
<li><p>17.3仅出于遵守适用的儿童隐私法规的目的，应用程序可以要求用户的出生日期(或者使用其他年龄评级机制)，但是必须包括一些有用的功能或者娱乐价值，不管用户年龄大小。</p>
</li>
<li><p>17.4收集、传输以及分享未成年用户个人信息(比如名字、地址、邮件、位置、照片、视频、绘画、聊天信息以及其他个人数据，或者与以上所述相关的永久性标示符)的应用程序必须遵守应用儿童隐私法规，并且必须包含隐私条款。</p>
</li>
<li><p>17.5包含账号注册或者访问用户现有账号的应用程序必须包含隐私策略，否则将会被拒绝。</p>
</li>
</ul>
<h2 id="18-色情"><a href="#18-色情" class="headerlink" title="18.色情"></a>18.色情</h2><ul>
<li><p>18.1含有色情素材，也就是《韦氏词典》中定义的”旨在激发情欲，对性器官或性行为的明确描述或展示，而无关美学或情绪感受”的程序将会被拒绝。</p>
</li>
<li><p>18.2包含用户频繁提供的色情内容的应用程序(比如以前的“Chat Roulette”程序)将会被拒绝。</p>
</li>
</ul>
<h2 id="19-宗教，文化与种族"><a href="#19-宗教，文化与种族" class="headerlink" title="19.宗教，文化与种族"></a>19.宗教，文化与种族</h2><ul>
<li><p>19.1涉及宗教、文化或种族群体的引用或评论包含诽谤性、攻击性或狭隘内容，或会使特定群体遭受伤害或暴力的应用程序将会被拒绝。</p>
</li>
<li><p>19.2程序可以包含或引用宗教经文，程序所提供的引用或翻译必须准确且不会引起误导。评论应该有教育意义，可以令人开阔眼界，而不应有煽动性。</p>
</li>
</ul>
<h2 id="20-竞赛、赌博、彩票以及抽奖"><a href="#20-竞赛、赌博、彩票以及抽奖" class="headerlink" title="20.竞赛、赌博、彩票以及抽奖"></a>20.竞赛、赌博、彩票以及抽奖</h2><ul>
<li><p>20.1彩票抽奖和竞赛必须由应用程序的开发者或者app所属公司发起。</p>
</li>
<li><p>20.2应用程序必须展示彩票抽奖和竞赛的正式规则，并声明苹果不是发起者，也没有以任何方式参与活动。</p>
</li>
<li><p>20.3开发者运营一款具有抽奖性质的应用必须经过法律允许，并且抽奖应用必须具备以下特征：报酬、运气以及奖品。</p>
</li>
<li><p>20.4允许用户在应用中直接购买彩票或彩券的应用将会被拒。</p>
</li>
<li><p>20.5提供真钱游戏(比如体育博彩、扑克牌、赌场游戏、赛马以及彩票)的应用程序必须有应用程序适用地区当地必要的许可和允许，必须限制在这些区域，必须可以从App Store免费下载。</p>
</li>
<li><p>20.6使用IAP购买信誉或者货币，且结合真钱游戏的应用将会被拒绝。</p>
</li>
</ul>
<h2 id="21-慈善与援助"><a href="#21-慈善与援助" class="headerlink" title="21.慈善与援助"></a>21.慈善与援助</h2><ul>
<li><p>21.1包含可以向已认证的慈善组织捐赠功能的应用程序必须是免费的。</p>
</li>
<li><p>21.2捐赠款项的募集必须通过Safari浏览器访问web页面或是手机短消息完成。</p>
</li>
</ul>
<h2 id="22-法律要件"><a href="#22-法律要件" class="headerlink" title="22.法律要件"></a>22.法律要件</h2><ul>
<li><p>22.1应用程序必须遵守所有发布地区当地法律，开发者有义务了解并遵守所有当地法律。</p>
</li>
<li><p>22.2包含虚假，欺诈或误导性陈述的程序将会被拒绝。</p>
</li>
<li><p>22.3任何用于招徕、促进或鼓励犯罪或明显鲁莽行为的应用程序将会被拒绝。</p>
</li>
<li><p>22.4支持非法文件共享的程序将会被拒绝。</p>
</li>
<li><p>22.5被设计用以非法赌博工具的应用程序(包括点算牌)将会被拒绝。</p>
</li>
<li><p>22.6具有匿名或恶作剧拨打电话或发送类似短信/彩信功能的程序将会被拒绝。</p>
</li>
<li><p>22.7任何开发暗中收集用户密码或用户私人数据程序的开发者将会从iOS开发者计划中除名。</p>
</li>
<li><p>22.8包含非执法机构发布的DUI检查点信息，或者怂恿/协助酒后驾车的应用将会被拒绝。</p>
</li>
<li><p>22.9计算药剂用量的应用程序必须由药品制造商或者认可机构发布，比如医院、保险公司以及高校。</p>
</li>
<li><p>22.10.在未授权的情况下使用iTunes音乐预览的应用程序将会被拒绝。</p>
</li>
</ul>
<h2 id="23-Passbook"><a href="#23-Passbook" class="headerlink" title="23.Passbook"></a>23.Passbook</h2><ul>
<li><p>23.1 Passbook Passes可被用来支付或者接收支付，传递商业信息或者提供验证(比如电影票、飞机票、优惠券以及其他)，但把Passbook Passes用于其他用途的应用程序可能会遭到拒绝，并且会被撤销Passbook证书。</p>
</li>
<li><p>23.2 Passes必须包含有效的pass发行人有效的联系资料，否则app将会被拒绝，并且Passbook证书也会被取消。</p>
</li>
<li><p>23.3 Passes必须经过实体签名，并基于其名字、商标或者品牌进行分发，否则应用程序将会被拒绝，而Passbook证书也可能会被撤销。</p>
</li>
</ul>
<h2 id="24-儿童类别"><a href="#24-儿童类别" class="headerlink" title="24.儿童类别"></a>24.儿童类别</h2><ul>
<li><p>24.1儿童类别中的应用程序必须包含隐私政策，必须遵守适用的儿童隐私法规。</p>
</li>
<li><p>24.2儿童类别中的应用程序不允许包括行为广告(比如app内部基于用户行动的服务广告)，任何在应用程序中展示的上下文广告必须适合儿童。</p>
</li>
<li><p>24.3儿童类别中的应用程序必须得到家长许可或使用parental gate才能链接至应用程序外部或进行交易。</p>
</li>
<li><p>24.4儿童类别中的应用程序必须标明”5岁以下，6-8岁或者9-11岁”。</p>
</li>
</ul>
<h2 id="25-扩展"><a href="#25-扩展" class="headerlink" title="25.扩展"></a>25.扩展</h2><ul>
<li><p>25.1包含扩展的应用程序必须遵照App Extension Programming Guide要求。</p>
</li>
<li><p>25.2包含扩展的应用程序必须提供某些功能(辅助屏幕，附加设置)，否则将会被拒绝。</p>
</li>
<li><p>25.3如果扩展的视图中包含营销推广、广告或者IAP内容，那么包含该扩展的应用将会被拒绝。</p>
</li>
<li><p>25.4键盘扩展必须提供一个切换至下个键盘的方法。</p>
</li>
<li><p>25.5键盘扩展必须具有离线访问功能，否则将会被拒绝。</p>
</li>
<li><p>25.6键盘扩展必须提供和App Extension Programming Guide描述一致的数字和十进键盘类型，否则将会被拒绝。</p>
</li>
<li><p>25.7提供键盘扩展的应用必须拥有基本的功能分类和隐私政策，否则将会被拒绝。</p>
</li>
<li><p>25.8提供键盘扩展的应用程序只允许收集用户活动以增强键盘扩展在iOS设备上的功能，否则将会被拒绝。</p>
</li>
</ul>
<h2 id="26-HomeKit"><a href="#26-HomeKit" class="headerlink" title="26.HomeKit"></a>26.HomeKit</h2><ul>
<li><p>26.1使用HomeKit框架的应用程序必须有提供家庭自动化服务的主要目的。</p>
</li>
<li><p>26.2使用HomeKit框架的应用程序必须在营销文本中说明用途，同时必须提供隐私政策，否则将会被拒绝。</p>
</li>
<li><p>26.3应用程序不允许将从HomeKit API收集的数据用于广告宣传或者其他基于使用的数据挖掘。</p>
</li>
<li><p>26.4出于其他目的使用从HomeKit API收集的数据，而不是用于提高用户体验或者家庭自动化功能中硬件/软件性能，这类应用将会被拒绝。</p>
</li>
</ul>
<h2 id="27-HealthKit"><a href="#27-HealthKit" class="headerlink" title="27.HealthKit"></a>27.HealthKit</h2><ul>
<li><p>27.1使用HealthKit或者ResearchKit框架(出于健康目的用于进行人体生物学研究的框架)的应用程序，必须遵守其所有适用区域的法律，以及iOS Developer Program License Agreement中的3.3.28和3.39条款。(增加了对于ResearchKit框架的支持)</p>
</li>
<li><p>27.2将虚假或者错误的数据写入HealthKit的应用程序将会被拒绝。</p>
</li>
<li><p>27.3使用HealthKit框架的应用程序在iCloud中储存用户健康信息将会被拒绝。</p>
</li>
<li><p>27.4应用程序不允许将通过HealthKit API收集的用户数据用作广告宣传或者基于使用的数据挖掘目的，除了改善健康、医疗、健康管理以及医学研究目的。</p>
</li>
<li><p>27.5未经用户许可与第三方分享通过HealthKit API获得的用户数据的应用程序将会被拒绝。</p>
</li>
<li><p>27.6使用HealthKit框架的应用程序必须在营销文本中说明集成了Health app，同时必须在app用户界面清楚阐释HealthKit的功能。</p>
</li>
<li><p>27.7使用HealthKit框架的应用程序必须提供隐私政策，否则将会被拒绝。</p>
</li>
<li><p>27.8提供诊断、治疗建议，或者控制诊断疾病的硬件，或者治疗疾病的应用程序，若没有根据要求提供书面的监管审批，将会被拒绝。</p>
</li>
<li><p>27.9收集人体生物学研究相关数据的应用程序必须要获得参与者的许可，对于未成年人，应用程序要得到其父母或者监护人的许可。许可内容必须包括：(a)研究的性质、目的以及持续性;(b)参与流程、风险以及受益(福利);(c)信息的机密性和数据处理(包括与任何与第三方的共享);(d)参与者问题切入点;(e)取消方法(新增)</p>
</li>
</ul>
<h2 id="28-TestFlight"><a href="#28-TestFlight" class="headerlink" title="28.TestFlight"></a>28.TestFlight</h2><ul>
<li><p>28.1应用程序仅能使用TestFlight对以公开发布为目的的应用进行beta版测试，且必须遵守完整的App Review Guidelines。</p>
</li>
<li><p>28.2当版本中包含的内容或功能有重大变化时，使用TestFlight的应用程序必须提交审核。</p>
</li>
<li><p>28.3使用TestFlight的应用程序不允许分发给测试者，以作为任何形式的补偿。</p>
</li>
</ul>
<h2 id="29-Apple-Pay"><a href="#29-Apple-Pay" class="headerlink" title="29.Apple Pay"></a>29.Apple Pay</h2><ul>
<li><p>29.1使用Apple Pay的应用程序必须在出售任何商品或者服务之前为用户提供所有材料的购买信息，否则将会被拒绝。使用Apple Pay进行定期付款的应用程序必须提供最低限度续费期限，付费将持续直至被取消，每个阶段所付款额，费用付款归属，以及如何取消等。(增加了对于定期付款的规定)</p>
</li>
<li><p>29.2使用Apple Pay的应用程序必须正确使用Apple Pay Human Interface Guidelines中的Apple Pay标识和用户界面元素，否则将会被拒绝。</p>
</li>
<li><p>29.3使用Apple Pay作为购买机制的应用程序所提供的商品或服务不能触犯任何交付地范围内的法律，也不能用作任何非法目的。</p>
</li>
<li><p>29.4使用Apple Pay的应用程序必须提供隐私政策，否则将会被拒绝。</p>
</li>
<li><p>29.5只有为了促进或提高商品和服务的交付，或者依照法律要件，使用Apple Pay的应用程序才能与第三方分享通过Apple Pay获得的数据。</p>
</li>
</ul>
<p>转载请注明出处，原文链接:<a href="http://www.woshipm.com/ucd/144218.html" target="_blank" rel="external">http://www.woshipm.com/ucd/144218.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/10/使用CocoaPods做依赖管理/" itemprop="url">
                  使用CocoaPods做依赖管理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-10T14:57:04+08:00" content="2016-03-10">
              2016-03-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/10/使用CocoaPods做依赖管理/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/10/使用CocoaPods做依赖管理/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="使用CocoaPods做依赖管理"><a href="#使用CocoaPods做依赖管理" class="headerlink" title="使用CocoaPods做依赖管理"></a>使用CocoaPods做依赖管理</h2><p>每种语言发展到一个阶段，就会出现相应的依赖管理工具。本章讲解iOS项目的依赖管理工具CocoaPods。</p>
<h2 id="CocoaPods简介"><a href="#CocoaPods简介" class="headerlink" title="CocoaPods简介"></a>CocoaPods简介</h2><p>每种语言发展到一个阶段，就会出现相应的依赖管理工具，例如Java语言的Maven，nodejs的npm。随着iOS开发者的增多，业界也出现了为iOS程序提供依赖管理的工具，它的名字叫做：CocoaPods。</p>
<p>CocoaPods项目的源码在Github上管理。该项目开始于2011年8月，经过多年发展，现在已经成为iOS开发事实上的依赖管理标准工具。开发iOS项目不可避免地要使用第三方开源库，CocoaPods的出现使得我们可以节省设置和更新第三方开源库的时间。</p>
<p>在我开发猿题库客户端时，使用了24个第三方开源库。在没有使用CocoaPods以前，我需要:</p>
<ul>
<li><p>把这些第三方开源库的源代码文件复制到项目中，或者设置成git的submodule。</p>
</li>
<li><p>对于这些开源库通常需要依赖系统的一些framework，我需要手工地将这些framework一一增加到项目依赖中，比如通常情况下，一个网络库就需要增加以下framework: CFNetwork, SystemConfiguration, MobileCoreServices, CoreGraphics, zlib。</p>
</li>
<li><p>对于某些开源库，我还需要设置-licucore或者 -fno-objc-arc等编译参数</p>
</li>
<li><p>管理这些依赖包的更新。</p>
</li>
</ul>
<p>这些体力活虽然简单，但毫无技术含量并且浪费时间。在使用CocoaPods之后，我只需要将用到的第三方开源库放到一个名为Podfile的文件中，然后执行pod install。CocoaPods就会自动将这些第三方开源库的源码下载下来，并且为我的工程设置好相应的系统依赖和编译参数。</p>
<h2 id="CocoaPods的安装和使用"><a href="#CocoaPods的安装和使用" class="headerlink" title="CocoaPods的安装和使用"></a>CocoaPods的安装和使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>安装方式异常简单, Mac下都自带ruby，使用ruby的gem命令即可下载安装：</p>
<pre><code>$ sudo gem install cocoapods

$ pod setup
</code></pre><p>如果你的gem太老，可以尝试用如下命令升级gem:</p>
<pre><code>sudo gem update --system
</code></pre><p>另外，ruby的软件源rubygems.org因为使用的亚马逊的云服务，所以被墙了，需要更新一下ruby的源，如下代码将官方的ruby源替换成国内淘宝的源：</p>
<pre><code>gem sources --remove https://rubygems.org/

gem sources -a http://ruby.taobao.org/

gem sources -l
</code></pre><p>还有一点需要注意，pod setup在执行时，会输出Setting up CocoaPods master repo，但是会等待比较久的时间。这步其实是Cocoapods在将它的信息下载到 ~/.cocoapods目录下，如果你等太久，可以试着cd到那个目录，用du -sh *来查看下载进度。你也可以参考本文接下来的使用cocoapods的镜像索引一节的内容来提高下载速度。</p>
<h3 id="使用CocoaPods的镜像索引"><a href="#使用CocoaPods的镜像索引" class="headerlink" title="使用CocoaPods的镜像索引"></a>使用CocoaPods的镜像索引</h3><p>所有的项目的Podspec文件都托管在<a href="https://github.com/CocoaPods/Specs。第一次执行pod" target="_blank" rel="external">https://github.com/CocoaPods/Specs。第一次执行pod</a> setup时，CocoaPods会将这些podspec索引文件更新到本地的 ~/.cocoapods/目录下，这个索引文件比较大，有80M左右。所以第一次更新时非常慢，笔者就更新了将近1个小时才完成。</p>
<p>一个叫akinliu的朋友在gitcafe和oschina上建立了CocoaPods索引库的镜像，因为gitcafe和oschina都是国内的服务器，所以在执行索引更新操作时，会快很多。如下操作可以将CocoaPods设置成使用gitcafe镜像：</p>
<pre><code>pod repo remove master

pod repo add master https://gitcafe.com/akuandev/Specs.git

pod repo update
</code></pre><p>将以上代码中的 <a href="https://gitcafe.com/akuandev/Specs.git" target="_blank" rel="external">https://gitcafe.com/akuandev/Specs.git</a> 替换成 <a href="http://git.oschina.net/akuandev/Specs.git" target="_blank" rel="external">http://git.oschina.net/akuandev/Specs.git</a> 即可使用oschina上的镜像。</p>
<h3 id="使用CocoaPods"><a href="#使用CocoaPods" class="headerlink" title="使用CocoaPods"></a>使用CocoaPods</h3><p>使用时需要新建一个名为Podfile的文件，以如下格式，将依赖的库名字依次列在文件中即可</p>
<pre><code>platform :ios
pod &apos;JSONKit&apos;,      &apos;~&gt; 1.4&apos;
pod &apos;Reachability&apos;,  &apos;~&gt; 3.0.0&apos;
pod &apos;ASIHTTPRequest&apos;
pod &apos;RegexKitLite&apos;
</code></pre><p>然后你将编辑好的Podfile文件放到你的项目根目录中，执行如下命令即可：</p>
<pre><code>cd &quot;your project home&quot;pod install
</code></pre><p>现在，你的所有第三方库都已经下载完成并且设置好了编译参数和依赖，你只需要记住如下2点即可：</p>
<ul>
<li><p>使用CocoaPods生成的 .xcworkspace 文件来打开工程，而不是以前的 .xcodeproj 文件。</p>
</li>
<li><p>每次更改了Podfile文件，你需要重新执行一次pod update命令。</p>
</li>
</ul>
<h3 id="查找第三方库"><a href="#查找第三方库" class="headerlink" title="查找第三方库"></a>查找第三方库</h3><p>你如果不知道cocoaPods管理的库中，是否有你想要的库，那么你可以通过pod search命令进行查找，以下是我用pod search json查找到的所有可用的库：</p>
<pre><code>$ pod search json

-&gt; AnyJSON (0.0.1)
  Encode / Decode JSON by any means possible.
  - Homepage: https://github.com/mattt/AnyJSON
  - Source:  https://github.com/mattt/AnyJSON.git
  - Versions: 0.0.1 [master repo]

-&gt; JSONKit (1.5pre)
  A Very High Performance Objective-C JSON Library.
  - Homepage: https://github.com/johnezang/JSONKit
  - Source:  git://github.com/johnezang/JSONKit.git
  - Versions: 1.5pre, 1.4 [master repo]

// ...以下省略若干行
</code></pre><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><h3 id="关于-gitignore"><a href="#关于-gitignore" class="headerlink" title="关于.gitignore"></a>关于.gitignore</h3><p>当你执行pod install之后，除了Podfile外，CocoaPods还会生成一个名为Podfile.lock的文件，你不应该把这个文件加入到.gitignore中。因为Podfile.lock会锁定当前各依赖库的版本，之后如果多次执行pod install 不会更改版本，要pod update才会改Podfile.lock了。这样多人协作的时候，可以防止第三方库升级时造成大家各自的第三方库版本不一致。</p>
<p>CocoaPods的这篇官方文档也在What is a Podfile.lock一节中介绍了Podfile.lock的作用，并且指出：</p>
<p>This file should always be kept under version control.</p>
<h3 id="为自己的项目创建podspec文件"><a href="#为自己的项目创建podspec文件" class="headerlink" title="为自己的项目创建podspec文件"></a>为自己的项目创建podspec文件</h3><p>我们可以为自己的开源项目创建podspec文件，首先通过如下命令初始化一个podspec文件：</p>
<pre><code>pod spec create your_pod_spec_name
</code></pre><p>该命令执行之后，CocoaPods会生成一个名为your_pod_spec_name.podspec的文件，然后我们修改其中的相关内容即可。</p>
<p>具体步骤可以参考这两篇博文中的相关内容：《如何编写一个CocoaPods的spec文件》 和《Cocoapods 入门》。</p>
<h3 id="使用私有的pods"><a href="#使用私有的pods" class="headerlink" title="使用私有的pods"></a>使用私有的pods</h3><p>我们可以直接指定某一个依赖的podspec，这样就可以使用公司内部的私有库。该方案有利于使企业内部的公共项目支持CocoaPods。如下是一个示例：</p>
<pre><code>pod &apos;MyCommon&apos;, :podspec =&gt; &apos;https://yuantiku.com/common/myCommon.podspec&apos;
</code></pre><h3 id="不更新podspec"><a href="#不更新podspec" class="headerlink" title="不更新podspec"></a>不更新podspec</h3><p>CocoaPods在执行pod install和pod update时，会默认先更新一次podspec索引。使用–no-repo-update参数可以禁止其做索引更新操作。如下所示：</p>
<pre><code>pod install --no-repo-update
pod update --no-repo-update
</code></pre><h3 id="生成第三方库的帮助文档"><a href="#生成第三方库的帮助文档" class="headerlink" title="生成第三方库的帮助文档"></a>生成第三方库的帮助文档</h3><p>如果你想让CococaPods帮你生成第三方库的帮助文档，并集成到Xcode中，那么用brew安装appledoc即可：</p>
<pre><code>brew install appledoc
</code></pre><p>关于appledoc，在本书的“其它工具”一章有专门介绍。它最大的优点是可以将帮助文档集成到Xcode中，这样你在敲代码的时候，按住opt键单击类名或方法名，就可以显示出相应的帮助文档。</p>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>CocoaPods的原理是将所有的依赖库都放到另一个名为Pods项目中，然后让主项目依赖Pods项目，这样，源码管理工作都从主项目移到了Pods项目中。发现的一些技术细节有：</p>
<ul>
<li><p>Pods项目最终会编译成一个名为libPods.a的文件，主项目只需要依赖这个.a文件即可。</p>
</li>
<li><p>对于资源文件，CocoaPods提供了一个名为Pods-resources.sh的bash脚本，该脚本在每次项目编译的时候都会执行，将第三方库的各种资源文件复制到目标目录中。</p>
</li>
<li><p>CocoaPods通过一个名为Pods.xcconfig的文件来在编译时设置所有的依赖和参数。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/10/AppStore上线素材准备篇/" itemprop="url">
                  AppStore上线素材准备篇
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-10T14:20:55+08:00" content="2016-03-10">
              2016-03-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/10/AppStore上线素材准备篇/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/10/AppStore上线素材准备篇/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="AppStore上线素材准备篇"><a href="#AppStore上线素材准备篇" class="headerlink" title="AppStore上线素材准备篇"></a>AppStore上线素材准备篇</h1><h3 id="1-app名称与版本号"><a href="#1-app名称与版本号" class="headerlink" title="1.app名称与版本号"></a>1.app名称与版本号</h3><p>您要填入的 App 版本号。编号应遵循软件版本规范。</p>
<h3 id="2-公司网址"><a href="#2-公司网址" class="headerlink" title="2.公司网址"></a>2.公司网址</h3><p>技术支持网址(URL)；营销网址(URL) ,可以共用一个网址。</p>
<h3 id="3-app所属类别"><a href="#3-app所属类别" class="headerlink" title="3.app所属类别"></a>3.app所属类别</h3><p>最能准确描述此 App 的类别。有关更多信息，请参阅 App Store 类别定义。<a href="https://itunesconnect.apple.com/itc/static/category_definitions" target="_blank" rel="external">参考链接</a></p>
<h3 id="4-演示帐户"><a href="#4-演示帐户" class="headerlink" title="4.演示帐户"></a>4.演示帐户</h3><p>正式环境的测试账号与密码。</p>
<h3 id="5-联系信息包括：电话，邮箱，公司地址"><a href="#5-联系信息包括：电话，邮箱，公司地址" class="headerlink" title="5.联系信息包括：电话，邮箱，公司地址"></a>5.联系信息包括：电话，邮箱，公司地址</h3><p>当 App 审核团队有任何问题或需要额外信息时, 您所在机构的联系人信息。</p>
<h3 id="6-版权-公司名称"><a href="#6-版权-公司名称" class="headerlink" title="6.版权-公司名称"></a>6.版权-公司名称</h3><p>拥有您的 App 专有权的人员或实体的名称，前面是获得权利的年份（例如“2008 Acme Inc”）。请勿提供网址(URL)。</p>
<h3 id="7-app描述"><a href="#7-app描述" class="headerlink" title="7.app描述"></a>7.app描述</h3><p>对您 App 的描述，用以详细说明特性和功能。</p>
<h3 id="8-app截图-4（共20张）"><a href="#8-app截图-4（共20张）" class="headerlink" title="8.app截图*4（共20张）"></a>8.app截图*4（共20张）</h3><p>屏幕快照必须为 JPG 或 PNG 格式，且必须采用 RGB 颜色空间。 App 视频预览必须为 M4V、MP4 或 MOV 格式，且不能超过 500 MB。 <a href="https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/Appendices/Properties.html#//apple_ref/doc/uid/TP40011225-CH26-SW2" target="_blank" rel="external">参考链接</a></p>
<p>[iPhone 4&amp;4s(640X960), iPhone 5&amp;5c&amp;5s(640X1136), iPhone 6&amp;6s(750X1334), iPhone 6P&amp;6sP(1242X2208)] ### 9.关键词<br>一个或多个关键词，用以描述您的 App。关键词将使 App Store 搜索结果更加准确。关键词之间用英文逗点分隔。</p>
<h3 id="10-app图标（1024X1024）"><a href="#10-app图标（1024X1024）" class="headerlink" title="10.app图标（1024X1024）"></a>10.app图标（1024X1024）</h3><p>此图标将用于 App Store，其格式必须为 JPG 或 PNG，最低分辨率至少为 72 DPI，并采用 RGB 色彩空间。它不能包含图层或圆角。</p>
<h3 id="11-用户服务协议、隐私政策。"><a href="#11-用户服务协议、隐私政策。" class="headerlink" title="11.用户服务协议、隐私政策。"></a>11.用户服务协议、隐私政策。</h3><p>必不可少的协议，没有就会被拒。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/02/使用GithubPages-Hexo搭建免费博客（三）/" itemprop="url">
                  使用GithubPages-Hexo搭建免费博客（三）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-03-02T23:52:40+08:00" content="2016-03-02">
              2016-03-02
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/02/使用GithubPages-Hexo搭建免费博客（三）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/02/使用GithubPages-Hexo搭建免费博客（三）/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="域名绑定"><a href="#域名绑定" class="headerlink" title="域名绑定"></a>域名绑定</h2><ul>
<li>域名解析<br>域名购买成功后，在解析设置中添加以下解析</li>
</ul>
<p><img src="http://7xr7f9.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-03-03%20%E4%B8%8A%E5%8D%8812.02.04.png" alt=""></p>
<p>记录类型为：A<br>主机记录分别为“@”，“wwww”。其中设置@，可以用xxx.com进行访问。设置www，可以使用www.xxx.com进行访问。<br>记录值都为 “192.30.252.153”</p>
<ul>
<li>添加CNAME文件</li>
</ul>
<p>打开自己本地的博客目录，在source文件夹下创建名为CNAME的文本文件。打开，输入自己的域名，格式为“xxx.com”，保存后使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>部署到github。</p>
<p>至此，便可使用我们自己的域名进行访问了！</p>
<h2 id="图片存储"><a href="#图片存储" class="headerlink" title="图片存储"></a>图片存储</h2><p>可以使用<a href="https://portal.qiniu.com/" target="_blank" rel="external">七牛云存储</a></p>
<h2 id="Mac上好用的GIF图截屏工具"><a href="#Mac上好用的GIF图截屏工具" class="headerlink" title="Mac上好用的GIF图截屏工具"></a><a href="http://www.cockos.com/licecap/" target="_blank" rel="external">Mac上好用的GIF图截屏工具</a></h2>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/26/使用GithubPages-Hexo搭建免费博客（二）/" itemprop="url">
                  使用GithubPages-Hexo搭建免费博客（二）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-02-26T16:37:14+08:00" content="2016-02-26">
              2016-02-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/26/使用GithubPages-Hexo搭建免费博客（二）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/26/使用GithubPages-Hexo搭建免费博客（二）/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://7xr7f9.com1.z0.glb.clouddn.com/hexoThemes.png" alt="Hexo主题"></p>
<p>上篇讲到Hexo的安装，本篇继续，先来说说Hexo安装后的文件结构与功能。</p>
<h2 id="HEXO博客配置"><a href="#HEXO博客配置" class="headerlink" title="HEXO博客配置"></a>HEXO博客配置</h2><h4 id="1-Hexo设置"><a href="#1-Hexo设置" class="headerlink" title="1. Hexo设置"></a>1. Hexo设置</h4><p>打开根目录下的_config.yml文件</p>
<h5 id="1-1-站点配置"><a href="#1-1-站点配置" class="headerlink" title="1.1 站点配置"></a>1.1 站点配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1 # Site</span><br><span class="line">2 title: myblog   # 网站标题</span><br><span class="line">3 subtitle:      # 网站子标题</span><br><span class="line">4 description: 这是一个利用Hexo搭建的博客    # 网站描述</span><br><span class="line">5 author:  author   # 网站作者，也就是您的名字</span><br><span class="line">6 language: zh-cn   # 网站使用的语言        </span><br><span class="line">7 timezone:         # 网站时区。Hexo 预设使用您电脑的时区。</span><br></pre></td></tr></table></figure>
<h5 id="1-2-网址配置"><a href="#1-2-网址配置" class="headerlink" title="1.2 网址配置"></a>1.2 网址配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 # URL</span><br><span class="line">2 url: http://xiaoxuetu.github.io         # 博客网址</span><br><span class="line">3 root: /                                 # 网站根目录</span><br><span class="line">4 permalink: :year/:month/:day/:title/    # 文章的永久链接格式   :year/:month/:day/:title/</span><br><span class="line">5 permalink_defaults:                     # 永久链接中各部分的默认值</span><br></pre></td></tr></table></figure>
<p><em>注意！ 如果你的网站存放在子目录中，例如 <a href="http://xiaoxuetu.github.io/blog" target="_blank" rel="external">http://xiaoxuetu.github.io/blog</a>, 则将url设为<a href="http://xiaoxuetu.github.io/blog，" target="_blank" rel="external">http://xiaoxuetu.github.io/blog，</a> 并且把 root 设为/blog/。</em></p>
<h5 id="1-3-目录配置"><a href="#1-3-目录配置" class="headerlink" title="1.3 目录配置"></a>1.3 目录配置</h5><p>一般直接取默认值不用修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1 # Directory</span><br><span class="line">2 source_dir: source         # 资源文件夹，这个文件夹用来存放内容，例如我们用markdown编写的博文</span><br><span class="line">3 public_dir: public         # 公共文件夹，这个文件夹用于存放生成的静态博客文件。</span><br><span class="line">4 tag_dir: tags              # 标签文件夹</span><br><span class="line">5 archive_dir: archives      # 归档文件夹</span><br><span class="line">6 category_dir: categories   # 分类文件夹</span><br><span class="line">7 code_dir: downloads/code   # Include code 文件夹</span><br><span class="line">8 i18n_dir: :lang            # 国际化（i18n）文件夹</span><br><span class="line">9 skip_render:               # 跳过指定文件的渲染，您可使用 glob 来配置路径。</span><br></pre></td></tr></table></figure>
<h5 id="1-4-文章配置"><a href="#1-4-文章配置" class="headerlink" title="1.4 文章配置"></a>1.4 文章配置</h5><p>一般直接取默认值不用修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1 # Writing</span><br><span class="line"> 2 new_post_name: :title.md    # 新文章的文件名称</span><br><span class="line"> 3 default_layout: post        # 预设布局</span><br><span class="line"> 4 titlecase: false            # 把标题转换为 titlecase（titlecase指的是将每个单词首字母转换成大写）</span><br><span class="line"> 5 external_link: true         # 在新标签中打开链接</span><br><span class="line"> 6 filename_case: 0            # 把文件名称转换为 (1) 小写或 (2) 大写, 0表示不变</span><br><span class="line"> 7 render_drafts: false        # 显示草稿</span><br><span class="line"> 8 post_asset_folder: false    # 启动 Asset 文件夹</span><br><span class="line"> 9 relative_link: false        # 把链接改为与根目录的相对位址</span><br><span class="line">10 future: true                # 显示未来的文章</span><br><span class="line">11 highlight:                  # 代码块的设置</span><br><span class="line">12   enable: true              </span><br><span class="line">13   line_number: true         # 是否显示行号</span><br><span class="line">14   auto_detect: true         # 是否自动监测</span><br><span class="line">15   tab_replace:              # 将 tab 替换成其他字符串</span><br></pre></td></tr></table></figure>
<h5 id="1-5-分类和标签配置"><a href="#1-5-分类和标签配置" class="headerlink" title="1.5 分类和标签配置"></a>1.5 分类和标签配置</h5><p>一般直接取默认值不用修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 # Category &amp; Tag</span><br><span class="line">2 default_category: uncategorized    # 默认分类, uncategorized表示未分类</span><br><span class="line">3 category_map:                      # 分类别名</span><br><span class="line">4 tag_map:                           # 标签别名</span><br></pre></td></tr></table></figure>
<h5 id="1-6-日期-以及-时间格式-配置"><a href="#1-6-日期-以及-时间格式-配置" class="headerlink" title="1.6 日期 以及 时间格式 配置"></a>1.6 日期 以及 时间格式 配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 date_format: YYYY-MM-DD           # 日期格式</span><br><span class="line">2 time_format: HH:mm:ss             # 时间格式</span><br></pre></td></tr></table></figure>
<h5 id="1-7-分页配置"><a href="#1-7-分页配置" class="headerlink" title="1.7 分页配置"></a>1.7 分页配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 # Pagination</span><br><span class="line">2 per_page: 10                      # 每页显示的文章量，如果设置值为0，则表示禁止分野</span><br><span class="line">3 pagination_dir: page              # 分页目录</span><br></pre></td></tr></table></figure>
<h5 id="1-8-主题配置"><a href="#1-8-主题配置" class="headerlink" title="1.8 主题配置"></a>1.8 主题配置</h5><p>从这里开始，都是属于Hexo拓展插件的配置了。以下代码，主要是主题配置。更详细的主题替换，看第二节</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 # Extensions</span><br><span class="line">2 theme: landscape    # 主题设置，默认是 landscape</span><br></pre></td></tr></table></figure>
<h5 id="1-9-部署配置"><a href="#1-9-部署配置" class="headerlink" title="1.9 部署配置"></a>1.9 部署配置</h5><p>这里主要用于将博客部署到github上，详细教程在后面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 # Deployment</span><br><span class="line">2 deploy:</span><br><span class="line">3   type:     # 设置发布类型，如git，rsync</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h4><p>Hexo为我们提供了很多的主题供我们选择，网页在<a href="http://hexo.io/themes/" target="_blank" rel="external">这里</a> 我们可以自由选择自己喜欢的主题来进行设置。</p>
<p><a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="external">github主题列表地址</a></p>
<p>修改方法，就是将相应的主题clone到博客文件夹下的themes文件夹下，然后将上面1.8中的主题名字设置为相应的修改的名字。<br>我用的是这个：<a href="https://github.com/ppoffice/hexo-theme-hueman" target="_blank" rel="external">hexo-theme-hueman</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: hexo-theme-hueman</span><br></pre></td></tr></table></figure>
<p>想要看到修改后的效果，可以在终端中继续执行以下命令。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean    </span><br><span class="line">hexo generate</span><br></pre></td></tr></table></figure>
<p>以上命令完成后，可以执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<blockquote>
<p>hexo s 等同于 hexo server , s 其实就是 server的缩写</p>
</blockquote>
<p>执行成功后，控制台将会输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p>用浏览器打开此站点，就可以看到我们用Hexo生成的网页。</p>
<h5 id="新建博文"><a href="#新建博文" class="headerlink" title="新建博文"></a>新建博文</h5><p>cd到博客文件的根目录下，使用以下命令，新建博客</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;title&quot;</span><br></pre></td></tr></table></figure>
<p>格式是： hexo new ｛文章名｝<br>命令执行成功后，你就会发现在 source/_posts 目录下多了一个文件 title.md 。</p>
<p>在文件夹下使用之前我们下载的markdown编辑器，打开这个文件，会看到以下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: title</span><br><span class="line">date: </span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>含义是：</p>
<ul>
<li>title : 文章的标题</li>
<li>date : 该文章的创建时间</li>
<li>tags : 该文章的标记tag</li>
</ul>
<p>依据不同的主题，多标签的语法格式为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tags: </span><br><span class="line">    - 标签1</span><br><span class="line">    - 标签2</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tags: [标签1,标签2]</span><br></pre></td></tr></table></figure>
<p>你可以添加你所需要的变量，如果觉得每次生成后更改很麻烦，可以在模板文件夹scaffolds下找到post.md文件，编辑它的Front-matter为你想要的变量参数，默认新建博文使用的post模板。</p>
<h5 id="创建自己制定模板"><a href="#创建自己制定模板" class="headerlink" title="创建自己制定模板"></a>创建自己制定模板</h5><p>如果你想使用其他模板，你可以使用下列命令来创建指定模板的博文：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new scaffold &quot;title&quot;</span><br></pre></td></tr></table></figure>
<p>请确保使用的模板scaffold在scaffolds存在。</p>
<h5 id="文章摘要"><a href="#文章摘要" class="headerlink" title="文章摘要"></a>文章摘要</h5><p>这个功能很实用，可以让你在首页文章目录不必显示全部的文章内容，只显示指定摘要。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">以上是摘要</span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line">以下是全文</span><br></pre></td></tr></table></figure>
<hr>
<p>使用markdown编辑好博文后，就可以执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure>
<p>此命令主要用于部署网页的静态文件，每次修改后都应该首先执行此命令，来重新部署</p>
<p>然后继续执行“hexo s”启动服务。</p>
<p>至此，Hexo的网页部署全部完成，之后就是部署到github上了。</p>
<hr>
<h2 id="部署到github"><a href="#部署到github" class="headerlink" title="部署到github"></a>部署到github</h2><h5 id="1-注册账号"><a href="#1-注册账号" class="headerlink" title="1.注册账号"></a>1.注册账号</h5><p>如果有github账号的，可以忽略，没有请移步<a href="www.github.com">github</a>注册账号</p>
<h5 id="2-创建与你的github用户名对应的仓库"><a href="#2-创建与你的github用户名对应的仓库" class="headerlink" title="2.创建与你的github用户名对应的仓库"></a>2.创建与你的github用户名对应的仓库</h5><p>仓库名字必须为“username.github.io”， 其中“username”为你的用户名</p>
<p><img src="http://7xr7f9.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-03-02%20%E4%B8%8B%E5%8D%8810.38.37.png" alt=""></p>
<p>点击右上角的加号，创建new repository，然后输入“username.github.io”，点击创建。</p>
<h5 id="3-创建Github-Pages"><a href="#3-创建Github-Pages" class="headerlink" title="3.创建Github Pages"></a>3.创建Github Pages</h5><p>repository创建完成后进入以下界面</p>
<p><img src="http://7xr7f9.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-03-02%20%E4%B8%8B%E5%8D%8810.43.20.png" alt=""></p>
<p>点击最右边的Settings</p>
<p>进入后找到创建Github Pages的地方</p>
<p><img src="http://7xr7f9.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-03-02%20%E4%B8%8B%E5%8D%8810.45.28.png" alt=""></p>
<p>点击 Launch automatic page generator<br>最后生成主页：</p>
<p><img src="http://7xr7f9.com1.z0.glb.clouddn.com/github_pages_themes.png" alt=""></p>
<p>之后我们就可以直接访问“username.github.io”，去访问我们的博客了。</p>
<h5 id="4-配置git"><a href="#4-配置git" class="headerlink" title="4.配置git"></a>4.配置git</h5><p>由于mac自带git，所以直接打开终端进行设置</p>
<p>设置用户名密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;你的github邮箱&quot;</span><br><span class="line">git config --global user.name &quot;你的github用户名&quot;</span><br></pre></td></tr></table></figure>
<p>生成密钥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure>
<p>回车之后，打开Finder,前往文件夹[~/.ssh]中会看到生成的两个文件</p>
<blockquote>
<p>id_rsa    id_rsa.pub</p>
</blockquote>
<p>其中id_rsa是私钥，id_rsa.pub是龚玥</p>
<p>然后执行以下命令，添加生成的key</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add id_rsa</span><br></pre></td></tr></table></figure>
<p>然后将id_rsa.pub中的内容复制下来，在我们github的主页中，点击个人的账户，找到settings–&gt;SSH keys，将我们复制的内容，添加在这里。title随便取个名字就好。</p>
<p>添加成功之后，可以在终端测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>点击回车后输出内容中，最后一句话为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You&apos;ve successfully authenticated, but github does not provide shell access.</span><br></pre></td></tr></table></figure>
<p>至此，验证成功。</p>
<h5 id="5-最后一步，将我们用Hexo生成的网页部署到github"><a href="#5-最后一步，将我们用Hexo生成的网页部署到github" class="headerlink" title="5.最后一步，将我们用Hexo生成的网页部署到github"></a>5.最后一步，将我们用Hexo生成的网页部署到github</h5><p>在我们的博客根目录下，打开站点配置文件<strong>_config.yml</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy: </span><br><span class="line">  type: git</span><br><span class="line">  repository: https://github.com/username/username.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>其中“username”为你github的用户名。</p>
<p>修改完保存后，就可以打开终端，cd到博客根目录，执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate #生成静态网页</span><br><span class="line">hexo deploy #部署到github</span><br></pre></td></tr></table></figure>
<p>之后输出以下信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Deploy done: git</span><br></pre></td></tr></table></figure>
<p>说明我们的博客已经部署成功，github pages可能会存在延时，过几分钟后，就可以通过username.github.io去访问我们的博客了！</p>
<hr>
<p><em>本篇主要讲述了使用Hexo进行博客的搭建与配置，以及如何部署到github上，至此我们所有创建博客的工作已经完成。之后便是自己博客的编写与经营了，一些更深入的配置移步<a href="http://icehulu.com/2016/03/02/使用GithubPages-Hexo搭建免费博客（三）/" target="_blank" rel="external">第三篇</a>吧</em></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7xojj3.com5.z0.glb.qiniucdn.com/image%2Favatar%2F7ead8c33da3d43552445740501595d76.jpg"
               alt="MaxWellPro" />
          <p class="site-author-name" itemprop="name">MaxWellPro</p>
          <p class="site-description motion-element" itemprop="description">一个90后iOS软件攻城狮，热爱coding，并且喜欢数码、外设、键盘等等。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">Artikel</span>
            </a>
          </div>
          
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags/tags">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">Tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/JMaxWells/JMaxWells.github.io" target="_blank">
                  
                    <i class="fa fa-gitHub"></i> GitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/2379733281" target="_blank">
                  
                    <i class="fa fa-weibo"></i> Weibo
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MaxWellPro</span>
</div>

<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"maxwellpro"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  





  
  
  

  


</body>
</html>
